(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),a=n(48);t.default=(0,a.withProps)({size:24})(r.CircularProgress)},192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),l=v(o),i=v(n(3)),u=v(n(76)),c=n(42),s=n(48),f=v(n(17)),d=n(34),p=n(65),m=v(n(86)),h=v(n(571)),y=n(117),b=v(n(468)),g=v(n(1630));function v(e){return e&&e.__esModule?e:{default:e}}function w(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.access=function(e){var t=!1;if(e){var r=n.props,a=r.myaccess,o=r.userModel,l=r.dataProvider,i=r.setMyAccess,u=r.project;a?(t=n.checkPermissionWithAccessData(a),n.setState({accept:t})):l(y.CUSTOM,o,{subUrl:"myAccess",body:{project:u},method:"post"}).then(function(e){e.data&&(i(e.data),t=n.checkPermissionWithAccessData(e.data),n.setState({accept:t}))})}else n.setState({accept:t})},n.checkPermissionWithAccessData=function(e){var t=n.props,r=t.permission,a=t.menu;if(e&&a&&r){if("master"===(0,f.default)(e,"type",""))return!0;var o=r||{},l=o.name,i=o.action,u=n.getActionApis(e,l,i);if(u&&u.length)return!u.some(function(t){return!((0,f.default)(e,"apiPath["+t.url+"]")&&(0,f.default)(e,"apiPath["+t.url+"]["+t.method+"]")&&(0,f.default)(e,"menu["+l+"]")&&!0===(0,f.default)(e,"menu["+l+"]["+i+"]"))})}return!1},n.getActionApis=function(e,t,r){var a=n.props.menu;return(0,f.default)(a,"accessMap."+t+"."+r+".apis")},n.state={accept:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.permission;e&&this.access(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.saving,a=e.disabled,o=(e.permission,e.dataProvider,e.menu,e.setMyAccess,e.userModel,e.isLink),i=e.linkTo,c=e.innerClass,s=(e.basePath,w(e,["children","saving","disabled","permission","dataProvider","menu","setMyAccess","userModel","isLink","linkTo","innerClass","basePath"])),f=this.state.accept;return o&&i?!f||a||n?l.default.createElement(u.default,s,t):l.default.createElement(u.default,r({className:c,component:p.Link,to:i},s),t):l.default.createElement(d.Button,r({disabled:!f||a||!!n},s),n?l.default.createElement(g.default,null):t)}}]),t}();O.propTypes={myaccess:i.default.object,dataProvider:i.default.func,userModel:i.default.string,project:i.default.string,menu:i.default.object,innerClass:i.default.any,isLink:i.default.bool,linkTo:i.default.string,basePath:i.default.any,children:i.default.any,saving:i.default.any,permission:i.default.any,setMyAccess:i.default.any,disabled:i.default.any},O.defaultProps={userModel:"appusers",project:"ctm"};var k=(0,s.compose)(m.default,(0,c.connect)(function(e){return{myaccess:e.sfdata.myaccess}},{setMyAccess:h.default}))(O),_=function(e){var t=e.permission,n=w(e,["permission"]);return t?l.default.createElement(b.default.Consumer,null,function(e){var a=e.menu;return l.default.createElement(k,r({},n,{menu:a,permission:t}))}):l.default.createElement(k,n)};_.propTypes={permission:i.default.any},t.default=_},7186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=b(i),c=n(34),s=n(42),f=b(n(3)),d=b(n(20)),p=n(43),m=b(n(469)),h=n(480),y=n(48);function b(e){return e&&e.__esModule?e:{default:e}}var g=(0,c.translate)((o=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.screen,n=e.checkRegister;t&&n(t)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.rawTitle,r=e.title,a=e.translate,o=e.classes,l=e.className,i=e.actions,c=e.card,s=e.header,f=n||a(r,{_:r}),h=c?p.Card:"div";return u.default.createElement(h,{className:(0,d.default)(o.root,l)},s&&u.default.createElement(m.default,{title:f,actions:i}),t)}}]),t}(),a.propTypes={title:f.default.string,children:f.default.any,rawTitle:f.default.string,translate:f.default.func,className:f.default.any,actions:f.default.element,card:f.default.bool,header:f.default.bool,screen:f.default.string,checkRegister:f.default.func,classes:f.default.object},r=o))||r;g.defaultProps={header:!1};t.default=(0,y.compose)((0,p.withStyles)(function(){return{root:{flexGrow:1}}}),(0,s.connect)(null,function(e){return{checkRegister:function(t){return e((0,h.checkRegister)(t))}}}))(g)},7187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),l=m(o),i=m(n(3)),u=m(n(20)),c=n(43),s=n(26),f=n(130),d=n(34),p=m(n(8196));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.theme=(0,s.createMuiTheme)(r.props.theme),r.containerRef=l.default.createRef(),r.backgroundImageLoaded=!1,r.updateBackgroundImage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r.backgroundImageLoaded&&r.containerRef.current){var t=r.props.backgroundImage;r.containerRef.current.style.backgroundImage="url("+t+")",r.backgroundImageLoaded=!0}e&&(r.backgroundImageLoaded=!0)},r.lazyLoadBackgroundImage=function(){var e=r.props.backgroundImage;if(e){var t=new Image;t.onload=r.updateBackgroundImage(),t.src=e}},r.componentDidMount=function(){r.lazyLoadBackgroundImage()},r.componentDidUpdate=function(){r.backgroundImageLoaded||r.lazyLoadBackgroundImage(!0)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.loginForm,o=y(e,["classes","className","loginForm"]);return l.default.createElement(s.MuiThemeProvider,{theme:this.theme},l.default.createElement("div",r({className:(0,u.default)(t.main,n)},function(e){e.array,e.backgroundImage,e.classes,e.className,e.location,e.staticContext,e.theme,e.title;return y(e,["array","backgroundImage","classes","className","location","staticContext","theme","title"])}(o),{ref:this.containerRef}),l.default.createElement(c.Card,{className:t.card},l.default.createElement("div",{className:t.avatar},l.default.createElement(c.Avatar,{className:t.icon},l.default.createElement(f.Lock,null))),a),l.default.createElement(d.Notification,null)))}}]),t}();b.propTypes={authProvider:i.default.func,backgroundImage:i.default.string,classes:i.default.object,className:i.default.string,input:i.default.object,loginForm:i.default.element,meta:i.default.object,previousRoute:i.default.string,theme:i.default.any},b.defaultProps={backgroundImage:"https://source.unsplash.com/collection/14471760/1920x1080",theme:d.defaultTheme,loginForm:l.default.createElement(p.default,null)},t.default=(0,s.withStyles)(function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary[500]}}})(b)},7188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),o=j(a),l=j(n(3)),i=n(42),u=j(n(20)),c=j(n(723)),s=j(n(255)),f=j(n(99)),d=j(n(76)),p=n(26),m=j(n(8204)),h=j(n(12)),y=j(n(1590)),b=n(13),g=n(410),v=n(34),w=j(n(8205)),O=j(n(8207)),k=j(n(344)),_=j(n(8209));function j(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){var t=e.classes,n=e.className,l=e.logout,i=e.open,p=e.title,h=e.toggleSidebar,y=e.notifyBage,b=e.extBar,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["classes","className","logout","open","title","toggleSidebar","notifyBage","extBar"]);return o.default.createElement(c.default,r({className:(0,u.default)(t.appBar,n),color:"secondary",position:"absolute"},g),o.default.createElement(s.default,{disableGutters:!0,variant:"dense",className:t.toolbar},o.default.createElement(f.default,{color:"inherit","aria-label":"open drawer",onClick:h,className:(0,u.default)(t.menuButton)},o.default.createElement(m.default,{classes:{root:i?t.menuButtonIconOpen:t.menuButtonIconClosed}}),"  ",o.default.createElement("img",{src:"/static/images/logo-wide.png",height:"32px"})),o.default.createElement(d.default,{variant:"h6",color:"inherit",className:t.title},"string"==typeof p?p:o.default.cloneElement(p)),o.default.createElement("span",{className:t.flex1}),o.default.createElement("div",{className:t.grow}),o.default.createElement("div",{className:t.search},o.default.createElement("div",{className:t.searchIcon},o.default.createElement(_.default,null)),o.default.createElement(k.default,{placeholder:"Search…",classes:{root:t.inputRoot,input:t.inputInput}})),o.default.createElement(v.LoadingIndicator,{className:t.loadingIndicator}),b&&b.map(function(e){var t=e.key,n=e.component;return o.default.createElement(n,{key:t})}),y&&o.default.createElement(w.default,y),o.default.createElement(O.default,null),l&&(0,a.cloneElement)(l,{className:t.logout})))};E.propTypes={classes:l.default.object,className:l.default.string,notifyBage:l.default.any,logout:l.default.element,open:l.default.bool,title:l.default.oneOfType([l.default.string,l.default.element]).isRequired,toggleSidebar:l.default.func.isRequired,extBar:l.default.any};var x=(0,h.default)((0,i.connect)(function(e){return{locale:e.i18n.locale}},{toggleSidebar:b.toggleSidebar}),(0,p.withStyles)(function(e){return{color:e.status.loss,appBar:{zIndex:1300},toolbar:{paddingRight:24,display:"flex"},menuButton:{marginLeft:"0.5em",marginRight:"0.5em"},notification:{marginLeft:"0.5em",marginRight:"0.5em",badge:{color:y.default[500]}},menuButtonIconClosed:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(0deg)"},menuButtonIconOpen:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(180deg)"},title:P({flex:5},e.breakpoints.down("sm"),{display:"none"}),flex1:P({display:"none"},e.breakpoints.down("md"),{display:"block",flex:1}),loadingIndicator:{top:0,right:0,left:0,zIndex:1200,marginBottom:14,marginTop:14,marginLeft:"auto",marginRight:"auto"},logout:{color:"white !important"},grow:{flexGrow:1},search:P({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,g.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,g.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(9),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:P({paddingTop:e.spacing(1),paddingRight:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:e.spacing(10),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),paper:{marginRight:e.spacing(2)}}}));t.default=x(E)},8196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=y(n(0)),o=y(n(3)),l=n(54),i=n(65),u=n(42),c=y(n(12)),s=y(n(254)),f=y(n(99)),d=y(n(160)),p=y(n(175)),m=n(26),h=n(13);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var g=function(e){var t=e.meta,n=(t=void 0===t?{}:t).touched,o=t.error,l=b(e.input,[]),i=b(e,["meta","input"]);return a.default.createElement(d.default,r({error:!(!n||!o),helperText:n&&o},l,i,{fullWidth:!0}))},v=function(e,t,n){var r=n.redirectTo;return t((0,h.userLogin)(e,r))},w=function(e){var t=e.classes,n=e.isLoading,r=e.handleSubmit,o=e.translate;return a.default.createElement("form",{onSubmit:r(v)},a.default.createElement("div",{className:t.form},a.default.createElement("div",{className:t.input},a.default.createElement(l.Field,{autoFocus:!0,id:"username",name:"username",component:g,label:o("ra.auth.username"),disabled:n})),a.default.createElement("div",{className:t.input},a.default.createElement(l.Field,{id:"password",name:"password",component:g,label:o("ra.auth.password"),type:"password",disabled:n}),a.default.createElement("div",{className:t.resetPasswordLink},a.default.createElement(i.Link,{to:"/resetPassword"},"Quên mật khẩu?")))),a.default.createElement(s.default,null,a.default.createElement(f.default,{variant:"raised",type:"submit",color:"primary",disabled:n,className:t.button},n&&a.default.createElement(p.default,{size:25,thickness:2}),o("ra.auth.sign_in"))))};w.propTypes=r({},l.propTypes,{classes:o.default.object,redirectTo:o.default.string});var O=(0,c.default)((0,m.withStyles)(function(){return{form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},button:{width:"100%"},resetPasswordLink:{marginTop:"1em",marginBottom:"0",textAlign:"right"}}}),h.translate,(0,u.connect)(function(e){return{isLoading:e.admin.loading>0}}),(0,l.reduxForm)({form:"signIn",validate:function(e,t){var n={},r=t.translate;return e.username||(n.username=r("ra.validation.required")),e.password||(n.password=r("ra.validation.required")),n}}));t.default=O(w)},8197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),l=w(o),i=w(n(3)),u=w(n(20)),c=n(43),s=n(26),f=n(130),d=n(34),p=n(13),m=n(42),h=n(65),y=w(n(12)),b=w(n(86)),g=n(117),v=w(n(8198));function w(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.theme=(0,s.createMuiTheme)(r.props.theme),r.containerRef=l.default.createRef(),r.backgroundImageLoaded=!1,r.state={emailHasBeenSent:null},r.updateBackgroundImage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r.backgroundImageLoaded&&r.containerRef.current){var t=r.props.backgroundImage;r.containerRef.current.style.backgroundImage="url("+t+")",r.backgroundImageLoaded=!0}e&&(r.backgroundImageLoaded=!0)},r.lazyLoadBackgroundImage=function(){var e=r.props.backgroundImage;if(e){var t=new Image;t.onload=r.updateBackgroundImage(),t.src=e}},r.componentDidMount=function(){r.lazyLoadBackgroundImage()},r.componentDidUpdate=function(){r.backgroundImageLoaded||r.lazyLoadBackgroundImage(!0)},r.submit=function(e){var t=r.props,n=t.dataProvider,a=t.model,o=t.projectKey,l=t.showNotification;n(g.CUSTOM,"AppUsers",{subUrl:"resetUserPassword",method:"POST",fullUrl:!0,body:{credential:e.credential,model:a,projectKey:o}}).then(function(e){var t=e.data;r.setState({emailHasBeenSent:t})}).catch(function(e){return l(e?e.message:"error.INTERNAL_SERVER_ERROR","warning")})},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.state.emailHasBeenSent,t=this.props,n=t.classes,a=t.className,o=k(t,["classes","className"]);return l.default.createElement(s.MuiThemeProvider,{theme:this.theme},l.default.createElement("div",r({className:(0,u.default)(n.main,a)},function(e){e.array,e.backgroundImage,e.classes,e.className,e.location,e.staticContext,e.theme,e.title;return k(e,["array","backgroundImage","classes","className","location","staticContext","theme","title"])}(o),{ref:this.containerRef}),l.default.createElement(c.Card,{className:n.card},l.default.createElement("div",{className:n.avatar},l.default.createElement(c.Avatar,{className:n.icon},l.default.createElement(f.Email,null)),l.default.createElement("div",{className:n.description},l.default.createElement(c.Typography,{variant:"h6",gutterBottom:!0},"Xác nhận thông tin"))),l.default.createElement(v.default,{onSubmit:this.submit})),"boolean"==typeof e?l.default.createElement(h.Redirect,{to:{pathname:"/resetPasswordEmailSentResult",state:{emailSent:e}}}):null,l.default.createElement(d.Notification,null)))}}]),t}();_.propTypes={authProvider:i.default.func,backgroundImage:i.default.string,classes:i.default.object,className:i.default.string,input:i.default.object,form:i.default.element,meta:i.default.object,previousRoute:i.default.string,theme:i.default.any,dataProvider:i.default.func,showNotification:i.default.any,model:i.default.string,projectKey:i.default.string},_.defaultProps={backgroundImage:"https://source.unsplash.com/collection/14471760/1920x1080",theme:d.defaultTheme},t.default=(0,y.default)((0,s.withStyles)(function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{maxWidth:400,minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"flex-start",alignItems:"baseline"},icon:{backgroundColor:e.palette.secondary[500],marginRight:"0.75em"},description:{marginBottom:0,marginTop:"12px"}}}),b.default,(0,m.connect)(null,{showNotification:p.showNotification}))(_)},8198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),l=b(o),i=n(54),u=n(42),c=b(n(12)),s=b(n(254)),f=b(n(99)),d=b(n(160)),p=b(n(175)),m=n(26),h=n(13),y=b(n(76));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var v=function(e){var t=e.meta,n=(t=void 0===t?{}:t).touched,r=t.error,o=g(e.input,[]),i=g(e,["meta","input"]);return l.default.createElement(d.default,a({error:!(!n||!r),helperText:n&&r},o,i,{fullWidth:!0}))},w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSubmit,r=e.isLoading;return l.default.createElement("form",{onSubmit:n},l.default.createElement("div",{className:t.form},l.default.createElement(y.default,{component:"p"},"Xin hãy nhập tên tài khoản hoặc email được dùng để đăng ký tài khoản của bạn. Chúng tôi sẽ gửi 1 đường dẫn để tạo mật khẩu mới"),l.default.createElement("div",{className:t.input},l.default.createElement(i.Field,{autoFocus:!0,name:"credential",label:"Thông tin tài khoản",component:v}))),l.default.createElement(s.default,null,l.default.createElement(f.default,{variant:"raised",type:"submit",color:"primary",disabled:r,className:t.button},r&&l.default.createElement(p.default,{size:25,thickness:2}),"Tiếp tục")))}}]),t}();w.propTypes=a({},i.propTypes);var O=(0,c.default)((0,m.withStyles)(function(){return{form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},button:{width:"100%"},resetPasswordLink:{marginBottom:"0",textAlign:"right"}}}),h.translate,(0,u.connect)(function(e){return{isLoading:e.admin.loading>0}}),(0,i.reduxForm)({form:"clientInformationInquiry",validate:function(e){var t={},n=e.credential;return n?n.includes("@")?n.match(/^\w+@(?:[a-z]+\.)+[a-z]+$/)||(t.credential="Email không hợp lệ"):n.match(/^\w+$/)||(t.credential="Tên tài khoản không hợp lệ"):t.credential="Bắt buộc",t}}));t.default=O(w)},8200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),i=O(l),u=O(n(3)),c=O(n(20)),s=n(43),f=n(42),d=n(65),p=n(13),m=n(26),h=n(130),y=n(34),b=O(n(12)),g=O(n(86)),v=n(117),w=O(n(8201));function O(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.theme=(0,m.createMuiTheme)(r.props.theme),r.containerRef=i.default.createRef(),r.backgroundImageLoaded=!1,r.updateBackgroundImage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r.backgroundImageLoaded&&r.containerRef.current){var t=r.props.backgroundImage;r.containerRef.current.style.backgroundImage="url("+t+")",r.backgroundImageLoaded=!0}e&&(r.backgroundImageLoaded=!0)},r.lazyLoadBackgroundImage=function(){var e=r.props.backgroundImage;if(e){var t=new Image;t.onload=r.updateBackgroundImage(),t.src=e}},r.componentDidMount=function(){r.lazyLoadBackgroundImage()},r.componentDidUpdate=function(){r.backgroundImageLoaded||r.lazyLoadBackgroundImage(!0)},r.submit=function(e){var t=r.props,n=t.dataProvider,o=t.showNotification,l=t.method,i=t.extraArgsToBody,u=window.location.href.split("accessToken=")[1];n(v.URL_ONLY,r.props.pluralizedModel,{subUrl:(l||"reset-password")+"?access_token="+u,fullUrl:!0,ignoreToken:!0}).then(function(t){var n=t.data.url,r=Object.entries(i||{}).map(function(e){var t=a(e,2),n=t[0],r=t[1];return n+"="+encodeURIComponent(r)}).join("&");return fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"newPassword="+encodeURIComponent(e.newPassword)+"&"+r})}).then(function(e){204===e.status?o("notification.passwords.createNewPasswordSuccess"):o("notification.passwords.createNewPasswordFailure","warning")}).catch(function(){return r.props.showNotification("notification.passwords.createNewPasswordFailure","warning")}).finally(function(){return r.props.history.push("/login")})},k(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=_(e,["classes","className"]);return i.default.createElement(m.MuiThemeProvider,{theme:this.theme},i.default.createElement("div",r({className:(0,c.default)(t.main,n)},function(e){e.array,e.backgroundImage,e.classes,e.className,e.location,e.staticContext,e.theme,e.title;return _(e,["array","backgroundImage","classes","className","location","staticContext","theme","title"])}(a),{ref:this.containerRef}),i.default.createElement(s.Card,{className:t.card},i.default.createElement("div",{className:t.avatar},i.default.createElement(s.Avatar,{className:t.icon},i.default.createElement(h.LockOutlined,null)),i.default.createElement("div",{className:t.description},i.default.createElement(s.Typography,{variant:"h6",gutterBottom:!0},"Tạo mật khẩu mới"))),i.default.createElement(w.default,{onSubmit:this.submit})),i.default.createElement(y.Notification,null)))}}]),t}();j.propTypes={authProvider:u.default.func,backgroundImage:u.default.string,classes:u.default.object,className:u.default.string,input:u.default.object,form:u.default.element,meta:u.default.object,previousRoute:u.default.string,theme:u.default.any,dataProvider:u.default.func,showNotification:u.default.any,history:u.default.any,pluralizedModel:u.default.string,method:u.default.string,extraArgsToBody:u.default.object},j.defaultProps={backgroundImage:"https://source.unsplash.com/collection/14471760/1920x1080",theme:y.defaultTheme},t.default=(0,b.default)((0,f.connect)(null,{showNotification:p.showNotification}),(0,m.withStyles)(function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{maxWidth:500,minWidth:400,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"flex-start",alignItems:"baseline"},icon:{backgroundColor:e.palette.secondary[500],marginRight:"0.75em"},description:{marginBottom:0,marginTop:"12px"}}}),g.default,d.withRouter)(j)},8201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),l=b(o),i=n(54),u=n(42),c=b(n(12)),s=b(n(254)),f=b(n(99)),d=b(n(160)),p=b(n(175)),m=n(26),h=n(13),y=b(n(76));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var v=function(e){var t=e.meta,n=(t=void 0===t?{}:t).touched,r=t.error,o=g(e.input,[]),i=g(e,["meta","input"]);return l.default.createElement(d.default,a({error:!(!n||!r),type:"password",helperText:n&&r},o,i,{fullWidth:!0}))},w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSubmit,r=e.isLoading;return l.default.createElement("form",{onSubmit:n},l.default.createElement("div",{className:t.form},l.default.createElement(y.default,{component:"p"},"Xin hãy tạo mật khẩu mới và xác nhận"),l.default.createElement("div",{className:t.input},l.default.createElement(i.Field,{autoFocus:!0,name:"newPassword",label:"Mật khẩu mới",component:v})),l.default.createElement("div",{className:t.input},l.default.createElement(i.Field,{name:"reconfirmedNewPassword",label:"Xác nhận mật khẩu mới",component:v}))),l.default.createElement(s.default,null,l.default.createElement(f.default,{variant:"raised",type:"submit",color:"primary",disabled:r,className:t.button},r&&l.default.createElement(p.default,{size:25,thickness:2}),"Tạo")))}}]),t}();w.propTypes=a({},i.propTypes);var O=(0,c.default)((0,m.withStyles)(function(){return{form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},button:{width:"100%"}}}),h.translate,(0,u.connect)(function(e){return{isLoading:e.admin.loading>0}}),(0,i.reduxForm)({form:"formCreateNewPassword",validate:function(e){var t={};return e.newPassword?e.newPassword.match(/^[a-zA-Z0-9_]+$/)||(t.newPassword="Mật khẩu không hợp lệ"):t.newPassword="Bắt buộc",e.reconfirmedNewPassword?e.newPassword!==e.reconfirmedNewPassword&&(t.reconfirmedNewPassword="Mật khẩu không được xác nhận chính xác"):t.reconfirmedNewPassword="Bắt buộc",t}}));t.default=O(w)},8202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layoutWithProps=t.lightTheme=t.darkTheme=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(0)),o=n(42),l=i(n(8203));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.darkTheme={palette:{type:"dark"}},c=t.lightTheme={palette:{secondary:{light:"#757de8",main:"#3f51b5",dark:"#002984",contrastText:"#fff"}},shape:{borderRadius:4}},s={status:{loss:"#ba000d",low:"#f57f17",normal:"#3f51b5",active:"#F44336",ok:"#4caf50",high:"#ba000d",ng:"#ba000d",error:"#f44336",critical:"#a31545",alert:"#f57f17",criticalAlert:"#a31545",warning:"#f57f17",warn:"#f57f17",bad:"#f44336"},sourceGroup:{strokeColor:"#2196F3",strokeOpacity:.8,strokeWeight:2,fillColor:"#2196F3",fillOpacity:.35,zIndex:102,geodesic:!0},dma:{edit:{strokeColor:"#f44336",strokeOpacity:.8,strokeWeight:1,fillColor:"#f44336",fillOpacity:.35,zIndex:190,geodesic:!0},level:{1:{strokeColor:"#9C27B0",strokeOpacity:.8,strokeWeight:3,fillColor:"#9C27B0",fillOpacity:.35,zIndex:101,geodesic:!0},2:{strokeColor:"#2196F3",strokeOpacity:.8,strokeWeight:2,fillColor:"#2196F3",fillOpacity:.35,zIndex:102,geodesic:!0},3:{strokeColor:"#03A9F4",strokeOpacity:.8,strokeWeight:1.5,fillColor:"#03A9F4",fillOpacity:.35,zIndex:103,geodesic:!0},4:{strokeColor:"#f44336",strokeOpacity:.8,strokeWeight:1,fillColor:"#f44336",fillOpacity:.35,zIndex:104,geodesic:!0}},parent:{},siblings:{}},node:{default:{zIndex:1e3},edit:{zIndex:1010}},pipe:{edit:{strokeColor:"#f44336",strokeOpacity:.8,strokeWeight:3,fillColor:"#f44336",fillOpacity:.35,zIndex:310,geodesic:!0},diameter:function(e){return e<=100?{strokeColor:"#2196F3",strokeOpacity:.8,strokeWeight:2,zIndex:301}:e<=200?{strokeColor:"#3F51B5",strokeOpacity:.8,strokeWeight:2.5,zIndex:302}:e<=300?{strokeColor:"#673AB7",strokeOpacity:.8,strokeWeight:3,zIndex:303}:e<=400?{strokeColor:"#4CAF50",strokeOpacity:.8,strokeWeight:3.5,zIndex:304}:e<=500?{strokeColor:"#795548",strokeOpacity:.8,strokeWeight:4,zIndex:305}:{strokeColor:"#F44336",strokeOpacity:.8,strokeWeight:4.5,zIndex:306}}},flowLogger:{zIndex:400},materials:{edit:{color:"#f44336",strokeColor:"#f44336"}}};t.darkTheme=u=r({},u,s),t.lightTheme=c=r({},c,s);var f=(0,o.connect)(function(e){return{theme:"dark"===e.theme?u:c}},{})(l.default);t.layoutWithProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return function(n){return a.default.createElement(t,r({},n,e))}};t.default=f},8210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(0)),o=u(n(3)),l=n(42),i=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={open:!1},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.dialog,n=e.data;return t?a.default.createElement("div",null,a.default.cloneElement(t,{data:n})):null}}]),t}();s.propTypes={data:o.default.any,dialog:o.default.any};t.default=(0,i.default)((0,l.connect)(function(e){return{dialog:e.dialog.element,data:e.dialog.data}}))(s)},8300:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=b(i),c=b(n(3)),s=n(42),f=n(48),d=b(n(17)),p=b(n(86)),m=b(n(571)),h=n(117),y=b(n(468));function b(e){return e&&e.__esModule?e:{default:e}}var g=(a=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.access=function(e){var t=!1;if(e){var r=n.props,a=r.myaccess,o=r.userModel,l=r.dataProvider,i=r.setMyAccess,u=r.project;a?(t=n.checkPermissionWithAccessData(a),n.setState({accept:t})):l(h.CUSTOM,o,{subUrl:"myAccess",body:{project:u},method:"post"}).then(function(e){e.data&&(i(e.data),t=n.checkPermissionWithAccessData(e.data),n.setState({accept:t}))})}else n.setState({accept:t})},n.checkPermissionWithAccessData=function(e){var t=n.props,r=t.permission,a=t.menu;if(e&&a&&r){if("master"===(0,d.default)(e,"type",""))return!0;var o=r||{},l=o.name,i=o.action,u=n.getActionApis(e,l,i);if(u&&u.length)return!u.some(function(t){return!((0,d.default)(e,"apiPath["+t.url+"]")&&(0,d.default)(e,"apiPath["+t.url+"]["+t.method+"]")&&(0,d.default)(e,"menu["+l+"]")&&!0===(0,d.default)(e,"menu["+l+"]["+i+"]"))})}return!1},n.getActionApis=function(e,t,r){var a=n.props.menu;return(0,d.default)(a,"accessMap."+t+"."+r+".apis")},n.state={accept:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"componentDidMount",value:function(){var e=this.props.permission;e&&this.access(e)}},{key:"render",value:function(){var e=this.props.children;return this.state.accept?e:null}}]),t}(),r.propTypes={children:c.default.any,saving:c.default.any},a);g.propTypes={myaccess:c.default.object,dataProvider:c.default.func,userModel:c.default.string,project:c.default.string,menu:c.default.object,permission:c.default.object,setMyAccess:c.default.any},g.defaultProps={userModel:"appusers",project:"ctm"};var v=(0,f.compose)(p.default,(0,s.connect)(function(e){return{myaccess:e.sfdata.myaccess}},{setMyAccess:m.default}))(g),w=function(e){var t=e.permission,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["permission"]);return t?u.default.createElement(y.default.Consumer,null,function(e){var r=e.menu;return u.default.createElement(v,o({},n,{menu:r,permission:t}))}):u.default.createElement(v,n)};w.propTypes={permission:c.default.any},t.default=w},8301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),l=y(o),i=y(n(3)),u=n(42),c=y(n(12)),s=n(26),f=n(410),d=y(n(598)),p=y(n(20)),m=n(13),h=y(n(192));function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleDelete=function(e){e.preventDefault();var t=r.props.record;r.props.handleDelete(t.id)},r.customDisabled=function(){var e=r.props,t=e.record,n=e.records;return!(!r.props.customDisabled||!n)&&r.props.customDisabled(t,n)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=void 0===t?"ra.action.delete":t,a=e.classes,o=void 0===a?{}:a,i=e.className,u=(e.basePath,e.dispatchCrudDelete,e.undoable),c=(e.handleDelete,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","classes","className","basePath","dispatchCrudDelete","undoable","handleDelete"]));return c.undoable=u.toString(),l.default.createElement(h.default,r({onClick:this.handleDelete,label:n,disabled:this.customDisabled(),className:(0,p.default)("ra-delete-button",o.deleteButton,i),key:"button"},c),l.default.createElement(d.default,null))}}]),t}();g.propTypes={basePath:i.default.string,classes:i.default.object,className:i.default.string,dispatchCrudDelete:i.default.func.isRequired,label:i.default.string,record:i.default.object,redirect:i.default.oneOfType([i.default.string,i.default.bool,i.default.func]),resource:i.default.string.isRequired,startUndoable:i.default.func,translate:i.default.func,undoable:i.default.bool,handleDelete:i.default.func,customDisabled:i.default.func,records:i.default.arrayOf(i.default.object)},g.defaultProps={redirect:"list",undoable:!0},t.default=(0,c.default)((0,u.connect)(null,{startUndoable:m.startUndoable,dispatchCrudDelete:m.crudDelete}),m.translate,(0,s.withStyles)(function(e){return{deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:(0,f.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}}}}))(g)},8302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=p(a),l=p(n(3)),i=p(n(12)),u=n(26),c=n(410),s=p(n(598)),f=p(n(20)),d=p(n(192));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=void 0===t?{}:t,r=e.className,a=e.onDelete,l=e.selectedIds,i=e.permission;return o.default.createElement(d.default,{className:(0,f.default)("ra-delete-button",n.deleteButton,r),onClick:function(){return a(l)},label:"generic.delete",permission:i},o.default.createElement(s.default,null))}}]),t}();m.propTypes={classes:l.default.object,className:l.default.object,onDelete:l.default.func.isRequired,selectedIds:l.default.array,permission:l.default.object},t.default=(0,i.default)((0,u.withStyles)(function(e){return{deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:(0,c.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}}}}))(m)},8303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=f(i),c=f(n(3)),s=n(43);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(a=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.renderChildren=function(e){var t=r.props,n=t.fowardFilterProps,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["fowardFilterProps"]);return i.Children.map(e,function(e){if((0,i.isValidElement)(e)){var t=e.props,r=t.categorize,l=t.xs,c=void 0===l?12:l,f=t.sm,d=void 0===f?12:f,p=n?(0,i.cloneElement)(e,o({},a)):e;switch(r){case"filter":return u.default.createElement(s.Grid,{item:!0,xs:12,sm:12},p);default:return u.default.createElement(s.Grid,{item:!0,xs:c,sm:d},e)}}})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.spacing;return u.default.createElement(s.Grid,{container:!0,spacing:n},this.renderChildren(t))}}]),t}(),r.propTypes={children:c.default.any,className:c.default.any,fowardFilterProps:c.default.bool,card:c.default.bool,spacing:c.default.any},a);p.defaultProps={fowardFilterProps:!1},t.default=p},8304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),i=m(l),u=m(n(3)),c=n(106),s=n(48),f=n(43),d=n(130),p=m(n(20));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(a=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.toggle=function(){var e=r.props.enabled;(document.fullScreen||document.mozFullScreen||document.msFullscreenElement||document.webkitIsFullScreen||!1)!==e&&(e?r.openFullscreen():r.closeFullscreen())},r.debounceCheck=(0,c.debounce)(function(){r.props.enabled&&r.toggle()},2e3),h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),o(t,[{key:"componentDidMount",value:function(){this.toggle()}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(e){e.enabled!=this.props.enabled&&this.toggle()}},{key:"openFullscreen",value:function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:"closeFullscreen",value:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"render",value:function(){var e=this.props,t=e.styles,n=e.className,r=e.classes,a=e.children,o=e.enabled,l=e.onChange,u=o?d.FullscreenExit:d.Fullscreen;return i.default.createElement("div",{style:t,className:(0,p.default)(o?r.full:r.normal,n)},i.default.createElement(f.IconButton,{color:"primary",onClick:function(){return l(!o)},className:r.toggleButton},i.default.createElement(u,{color:"primary",style:{fontSize:32}})),a)}}]),t}(),r.propTypes={enabled:u.default.bool,children:u.default.any,styles:u.default.any,classes:u.default.object,className:u.default.string,onChange:u.default.func},a);t.default=(0,s.compose)((0,f.withStyles)(function(e){return{full:{position:"fixed",top:0,left:0,bottom:90,width:"100%",margin:0,backgroundColor:"#CCCCCC",zIndex:e.zIndex.drawer+100},normal:{position:"relative"},toggleButton:{position:"absolute",right:0,top:0,zIndex:e.zIndex.drawer+2}}}))(y)}}]);