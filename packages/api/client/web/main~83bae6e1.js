(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),l=y(a),i=y(n(3)),u=n(48),s=n(42),c=y(n(1619)),f=n(117),p=y(n(86)),d=n(1617);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=o=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={newPoints:null,typeCropPolygon:"",newCenter:""},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dataProvider,n=e.config,o=n.MapDefaultCenter,r=n.MapDefaultCenter,a=e.commonConfig,l=e.configModel;o&&r||t(f.CUSTOM,l,{rawFilter:{id:{inq:["MapDefaultCenter","MapDefaultZoom"]}}}).then(function(e){if(e&&e.data){var t={};e.data.map(function(e){t[e.id]=e.value}),a(t)}})}},{key:"render",value:function(){var e=this.props,t=(e.dataProvider,e.config),n=(e.commonConfig,e.zoomLevel,e.centerPointGeo,e.defaultCenter),r=e.defaultZoom,a=e.enableCropPolygons,i=e.enableDeletePolygons,u=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["dataProvider","config","commonConfig","zoomLevel","centerPointGeo","defaultCenter","defaultZoom","enableCropPolygons","enableDeletePolygons"]);return l.default.createElement(c.default,o({isPaper:!0,defaultCenter:n||t.MapDefaultCenter,defaultZoom:r||t.MapDefaultZoom},u,{enableCropPolygons:a,enableDeletePolygons:i,clearPolygon:this.props.clearPolygon}))}}]),t}();g.propTypes={configModel:i.default.string,dataProvider:i.default.func,config:i.default.object,commonConfig:i.default.func,centerPointGeo:i.default.object,zoomLevel:i.default.number,defaultCenter:i.default.any,defaultZoom:i.default.any,enableCropPolygons:i.default.bool,enableDeletePolygons:i.default.bool,clearPolygon:i.default.func},g.defaultProps={configModel:"nmsconfigs"};var m={commonConfig:d.commonConfig};t.default=(0,u.compose)(p.default,(0,s.connect)(function(e){return{config:e.common}},m))(g)},1619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(0),u=S(i),s=n(43),c=S(n(3)),f=n(42),p=n(34),d=n(48),y=(S(n(477)),S(n(99))),h=S(n(478)),g=S(n(8126)),m=S(n(8127)),b=S(n(8128)),v=S(n(598)),P=S(n(713)),O=n(26),w=(S(n(719)),n(412)),T=n(106),x=S(n(8129)),C=S(n(8131)),_=S(n(8132)),j=S(n(8133));function S(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var k=(0,w.withScriptjs)((0,w.withGoogleMap)(function(e){var t=e.refMap,n=e.styles,o=void 0===n?C.default:n,r=e.options,a=void 0===r?{}:r,i=E(e,["refMap","styles","options"]);return u.default.createElement(w.GoogleMap,l({ref:t,defaultOptions:{styles:o},options:l({styles:o},a),defaultZoom:14,defaultCenter:{lat:21.00921,lng:106.80209}},i))})),R=(r=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refSearchBox=u.default.createRef(),n.onPlacesChanged=function(e){var t=n.refSearchBox,o=t.current.getPlaces();if(o&&o.length>0){var r={lat:o[0].geometry.location.lat(),lng:o[0].geometry.location.lng()};n.setState({center:r}),n.handleSearchBoxCenter(r,t),n.onResetSearchGadm()}},n.handleSearchBoxCenter=(0,T.debounce)(function(e,t){n.props.searchPosition&&n.props.searchPosition(e,t)},100),n.onClickUnionButton=function(e){n.props.handleUnion()},n.onClickDrawManyButton=function(e){n.props.handleDrawMany()},n.onClickSubtractButton=function(e){n.props.handleSubtract()},n.onClickDeleteButton=function(e){n.props.clearPolygon(),(n.props.enableSearchGadm||n.props.enableSearchDma)&&(n.refGadmInput.onReset(),document.getElementById("idSearchBoxDefault").value="")},n.onResetSearchGadm=function(){(n.props.enableSearchGadm||n.props.enableSearchDma)&&(n.props.clearPolygon(),n.refGadmInput.onReset())},n.onResetSearchBoxDefault=function(){(n.props.enableSearchGadm||n.props.enableSearchDma)&&(n.props.clearPolygon(),document.getElementById("idSearchBoxDefault").value="")},n.state={center:e.center,checked:!1},n.refGadmInput=u.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mapApiKey,o=t.options,r=void 0===o?{}:o,a=t.isPaper,c=t.children,f=t.searchBox,p=t.enableSearchGadm,d=t.enableSearchDma,P=(t.center,t.getAreaPoint),O=t.translate,w=t.enableCropPolygons,T=t.enableDrawManyPolygons,C=t.classes,S=t.clearPolygon,R=(t.enableDeletePolygons,t.className),I=E(t,["mapApiKey","options","isPaper","children","searchBox","enableSearchGadm","enableSearchDma","center","getAreaPoint","translate","enableCropPolygons","enableDrawManyPolygons","classes","clearPolygon","enableDeletePolygons","className"]),M=(this.state.checked,"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places");n&&(M=M.replace("js?","js?key="+n+"&")),I.center&&I.center.lat||delete I.center;var D=function(e){var t=e.width,n=void 0===t?"100%":t,o=e.height,r=void 0===o?"100vh - 110px":o,a=e.minHeight,l=void 0===a?"300px":a,i=e.maxHeight,u=void 0===i?null:i,s={width:n,height:r.indexOf(" ")?"calc("+r+")":r,minHeight:l};return u&&(s.maxHeight=u),s}(r),A={};return this.state.center&&(A.center=this.state.center),u.default.createElement(k,l({isMarkerShown:!0,googleMapURL:M,loadingElement:u.default.createElement("div",{style:{height:"100%"}}),containerElement:a?u.default.createElement(s.Paper,{style:D,className:R}):u.default.createElement("div",{className:R,style:D}),mapElement:u.default.createElement("div",{style:{height:"100%",position:"relative"}}),options:r},I,A),!p&&!d&&f&&u.default.createElement(x.default,{refSearchBox:this.refSearchBox,onPlacesChanged:this.onPlacesChanged}),T&&u.default.createElement(i.Fragment,null,u.default.createElement(h.default,{title:O("ra.map.drawManyPolygons")},u.default.createElement(y.default,{variant:"contained",className:C.button,style:{position:"absolute",marginTop:10,top:0,right:204},onClick:this.onClickDrawManyButton},u.default.createElement(m.default,{className:C.leftIcon,style:{color:"#666"}})))),w&&u.default.createElement(i.Fragment,null,u.default.createElement(h.default,{title:O("ra.map.union")},u.default.createElement(y.default,{variant:"contained",className:C.button,style:{position:"absolute",marginTop:10,top:0,right:152},onClick:this.onClickUnionButton},u.default.createElement(g.default,{className:C.leftIcon,style:{color:"#666"}}))),u.default.createElement(h.default,{title:O("ra.map.subtract")},u.default.createElement(y.default,{variant:"contained",className:C.button,style:{position:"absolute",marginTop:10,top:0,right:102},onClick:this.onClickSubtractButton},u.default.createElement(b.default,{className:C.leftIcon,style:{color:"#666"}}))),u.default.createElement(h.default,{title:O("ra.map.delete")},u.default.createElement(y.default,{variant:"contained",className:C.button,style:{position:"absolute",marginTop:10,top:0,right:52},onClick:this.onClickDeleteButton},u.default.createElement(v.default,{className:C.leftIcon,style:{color:"#666"}})))),p&&f&&u.default.createElement("div",null,u.default.createElement(x.default,{clearPolygon:S,enableSearchGadm:p,refSearchBox:this.refSearchBox,onPlacesChanged:this.onPlacesChanged}),u.default.createElement(_.default,{getAreaPoint:P,onRef:function(t){return e.refGadmInput=t},onResetSearchBoxDefault:this.onResetSearchBoxDefault})),d&&f&&u.default.createElement("div",null,u.default.createElement(x.default,{clearPolygon:S,enableSearchDma:d,refSearchBox:this.refSearchBox,onPlacesChanged:this.onPlacesChanged}),u.default.createElement(j.default,{getAreaPoint:P,onRef:function(t){return e.refGadmInput=t},onResetSearchBoxDefault:this.onResetSearchBoxDefault})),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return l({},t,{center:e.center||t.center})}}]),t}(),o.propTypes={onCenterChanged:c.default.func,searchPosition:c.default.func,mapApiKey:c.default.string,isPaper:c.default.bool,options:c.default.object,searchBox:c.default.bool,children:c.default.any,center:c.default.any,translate:c.default.func,getAreaPoint:c.default.func,enableSearchGadm:c.default.bool,enableSearchDma:c.default.bool,enableCropPolygons:c.default.bool,classes:c.default.object,handleUnion:c.default.func,handleSubtract:c.default.func,handleDrawMany:c.default.func,clearPolygon:c.default.func,enableDeletePolygons:c.default.bool,enableDrawManyPolygons:c.default.bool,className:c.default.string},o.defaultProps={isPaper:!1,searchBox:!0},r);t.default=(0,d.compose)(p.translate,(0,O.withStyles)(function(e){return{button:{boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 3px -1px",textTransform:"none",borderRadius:1,minHeight:"40px",minWidth:"40px !important",padding:"8px 0px",margin:e.spacing(1),backgroundColor:P.default[50]},leftIcon:{},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20}}}),(0,f.connect)(function(e){return{mapApiKey:e.common.mapApiKey}}))(R)},1620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]}]},1621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteInput=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=P(n(0)),l=P(n(3)),i=P(n(17)),u=P(n(45)),s=P(n(422)),c=P(n(122)),f=P(n(479)),p=P(n(160)),d=P(n(303)),y=n(26),h=P(n(423)),g=P(n(424)),m=P(n(12)),b=P(n(20)),v=n(13);function P(e){return e&&e.__esModule?e:{default:e}}function O(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=t.AutocompleteInput=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={dirty:!1,inputValue:null,searchText:"",selectedItem:null,suggestions:[]},r.ignoreNextChoicesUpdate=!1,r.inputEl=null,r.anchorEl=null,r.getSelectedItem=function(e,t){var n=e.choices;return n&&t?n.find(function(e){return r.getSuggestionValue(e)===t}):null},r.getSuggestionValue=function(e){return(0,i.default)(e,r.props.optionValue)},r.getSuggestionText=function(e){if(!e)return"";var t=r.props,n=t.optionText,o=t.translate,a=t.translateChoice,l="function"==typeof n?n(e):(0,i.default)(e,n,"");return a?o(l,{_:l}).toString():l.toString()},r.handleSuggestionSelected=function(e,t){var n=t.suggestion,o=t.method,a=r.props.input,l=r.getSuggestionValue(n);a&&a.onChange&&a.onChange(l),"enter"===o&&e.preventDefault()},r.handleSuggestionsFetchRequested=function(){r.setState(function(e){var t=e.suggestions,n=e.prevSuggestions;return{suggestions:n||t}})},r.handleSuggestionsClearRequested=function(){r.updateFilter("")},r.handleMatchSuggestionOrFilter=function(e){r.setState({dirty:!0,searchText:e}),r.updateFilter(e)},r.handleChange=function(e,t){var n=t.newValue;switch(t.method){case"type":case"escape":r.handleMatchSuggestionOrFilter(n)}},r.renderInput=function(e){var t=r.props,n=t.input,l=t.placeholder,i=e.autoFocus,u=e.className,s=e.classes,c=void 0===s?{}:s,f=e.isRequired,d=e.label,y=e.meta,h=e.onChange,g=e.resource,m=e.source,P=e.value,w=e.ref,T=e.options,x=T.InputProps,C=(T.suggestionsContainerProps,O(T,["InputProps","suggestionsContainerProps"])),_=O(e,["autoFocus","className","classes","isRequired","label","meta","onChange","resource","source","value","ref","options"]);if(void 0===y)throw new Error("The TextInput component wasn't called within a redux-form <Field>. Did you decorate it and forget to add the addField prop to your component? See https://marmelab.com/react-admin/Inputs.html#writing-your-own-input-component for details.");var j=y.touched,S=y.error;return a.default.createElement(p.default,o({label:""===d?void 0:a.default.createElement(v.FieldTitle,{label:d,source:m,resource:g,isRequired:f}),value:P,onChange:h,autoFocus:i,placeholder:l,margin:"normal",className:(0,b.default)(c.root,u),inputRef:function(e){r.inputEl=e,r.updateAnchorEl(),w(e)},error:!(!j||!S),name:n.name},C,{InputProps:o({disableUnderline:!0,classes:{input:c.input}},x,_)}))},r.renderSuggestionsContainer=function(e){var t=e.containerProps,n=t.className,l=O(t,["className"]),i=e.children,u=r.props,s=u.classes,p=void 0===s?{}:s,d=u.options;return r.updateAnchorEl(),a.default.createElement(f.default,o({className:n,open:Boolean(i),anchorEl:r.anchorEl,placement:"bottom-start"},d.suggestionsContainerProps),a.default.createElement(c.default,o({square:!0,className:p.suggestionsPaper},l),i))},r.renderSuggestionComponent=function(e){e.suggestion,e.query,e.isHighlighted;var t=O(e,["suggestion","query","isHighlighted"]);return a.default.createElement("div",t)},r.renderSuggestion=function(e,t){var n=t.query,o=t.isHighlighted,l=r.getSuggestionText(e),i=(0,g.default)(l,n),u=(0,h.default)(l,i),s=r.props,c=s.classes,f=void 0===c?{}:c,p=s.suggestionComponent;return a.default.createElement(d.default,{selected:o,component:p||r.renderSuggestionComponent,suggestion:e,query:n,isHighlighted:o},a.default.createElement("div",null,u.map(function(e,t){return e.highlight?a.default.createElement("span",{key:t,className:f.highlightedSuggestionText},e.text):a.default.createElement("strong",{key:t,className:f.suggestionText},e.text)})))},r.handleBlur=function(){var e=r.state,t=e.dirty,n=e.searchText,o=e.selectedItem,a=r.props,l=a.allowEmpty,i=a.input;t?""===n&&l?i&&i.onBlur&&i.onBlur(null):(i&&i.onBlur&&i.onBlur(r.state.inputValue),r.setState({dirty:!1,searchText:r.getSuggestionText(o),suggestions:r.props.limitChoicesToValue&&o?[o]:r.props.choices})):i&&i.onBlur&&i.onBlur(r.state.inputValue)},r.handleFocus=function(){var e=r.props.input;e&&e.onFocus&&e.onFocus()},r.updateFilter=function(e){var t=r.props,n=t.creportter,o=t.choices;r.previousFilterValue!==e&&(n?n(e):r.setState({suggestions:o.filter(function(t){return r.getSuggestionText(t).toLowerCase().includes(e.toLowerCase())})})),r.previousFilterValue=e},r.shouldRenderSuggestions=function(e){var t=r.props.shouldRenderSuggestions;return void 0===t||"function"!=typeof t||t(e)},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillMount",value:function(){var e=this.getSelectedItem(this.props,this.props.input.value);this.setState({selectedItem:e,inputValue:this.props.input.value,searchText:this.getSuggestionText(e),suggestions:this.props.limitChoicesToValue&&e?[e]:this.props.choices})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.choices,o=e.input,r=e.limitChoicesToValue;if(o.value!==this.state.inputValue){var a=this.getSelectedItem(e,o.value);this.setState({selectedItem:a,inputValue:o.value,searchText:this.getSuggestionText(a),dirty:!1,suggestions:r&&a?[a]:this.props.choices,prevSuggestions:!1}),this.ignoreNextChoicesUpdate=!0,this.updateFilter("")}else if(!(0,u.default)(n,this.props.choices)){if(this.ignoreNextChoicesUpdate)return void(this.ignoreNextChoicesUpdate=!1);var l=this.getSelectedItem(e,this.state.inputValue);this.setState(function(e){var o=e.dirty,a=e.searchText;return{selectedItem:l,searchText:o?a:t.getSuggestionText(l),suggestions:r&&!o&&l?[l]:n,prevSuggestions:!1}})}}},{key:"updateAnchorEl",value:function(){if(this.inputEl){var e=this.inputEl.getBoundingClientRect();if(this.anchorEl){var t=this.anchorEl.getBoundingClientRect();t.x===e.x&&t.y===e.y||(this.anchorEl={getBoundingClientRect:function(){return e}})}else this.anchorEl={getBoundingClientRect:function(){return e}}}}},{key:"render",value:function(){var e=this.props,t=e.alwaysRenderSuggestions,n=e.classes,r=void 0===n?{}:n,l=e.isRequired,i=e.label,u=e.meta,c=e.resource,f=e.source,p=e.className,d=e.options,y=(e.placeholder,O(e,["alwaysRenderSuggestions","classes","isRequired","label","meta","resource","source","className","options","placeholder"])),h=this.state,g=h.suggestions,m=h.searchText;return a.default.createElement(s.default,o({theme:{container:r.container,suggestionsContainerOpen:r.suggestionsContainerOpen,suggestionsList:r.suggestionsList,suggestion:r.suggestion},renderInputComponent:this.renderInput,suggestions:g,alwaysRenderSuggestions:t,onSuggestionSelected:this.handleSuggestionSelected,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,renderSuggestionsContainer:this.renderSuggestionsContainer,getSuggestionValue:this.getSuggestionText,renderSuggestion:this.renderSuggestion,shouldRenderSuggestions:this.shouldRenderSuggestions,inputProps:{className:p,classes:r,isRequired:l,label:i,meta:u,onChange:this.handleChange,resource:c,source:f,value:m,onBlur:this.handleBlur,onFocus:this.handleFocus,options:d}},y))}}]),t}();T.propTypes={placeholder:l.default.string,allowEmpty:l.default.bool,alwaysRenderSuggestions:l.default.bool,choices:l.default.arrayOf(l.default.object),classes:l.default.object,className:l.default.string,InputProps:l.default.object,input:l.default.object,isRequired:l.default.bool,label:l.default.oneOfType([l.default.string,l.default.bool]),limitChoicesToValue:l.default.bool,meta:l.default.object,options:l.default.object,optionText:l.default.oneOfType([l.default.string,l.default.func]).isRequired,optionValue:l.default.string.isRequired,resource:l.default.string,creportter:l.default.func,shouldRenderSuggestions:l.default.func,source:l.default.string,suggestionComponent:l.default.func,translate:l.default.func.isRequired,translateChoice:l.default.bool.isRequired},T.defaultProps={choices:[],options:{},optionText:"name",optionValue:"id",limitChoicesToValue:!1,translateChoice:!0},t.default=(0,m.default)(v.addField,v.translate,(0,y.withStyles)(function(e){return(0,y.createStyles)({container:{flexGrow:1,position:"relative"},root:{},suggestionsContainerOpen:{position:"absolute",marginLeft:-e.spacing(1.5),marginBottom:e.spacing(1),zIndex:2},suggestionsPaper:{maxHeight:"50vh",overflowY:"auto"},suggestion:{display:"block",fontFamily:e.typography.fontFamily},suggestionText:{fontWeight:300},highlightedSuggestionText:{fontWeight:500},suggestionsList:{margin:0,padding:0,listStyleType:"none"}})}))(T)},1624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=f(i),s=f(n(3)),c=f(n(990));function f(e){return e&&e.__esModule?e:{default:e}}var p=(r=o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.nodes,n=e.activeId,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["nodes","activeId"]);return t&&t.length>0?u.default.createElement(i.Fragment,null,t.map(function(e){return u.default.createElement(c.default,a({key:e.id},o,{node:e,active:n}))})):null}}]),t}(),o.propTypes={nodes:s.default.any,options:s.default.object,onClick:s.default.func,activeId:s.default.any},r);t.default=p},1625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=m(i),s=m(n(3)),c=n(106),f=m(n(8153)),p=n(43),d=n(121),y=n(8154),h=n(732),g=n(412);function m(e){return e&&e.__esModule?e:{default:e}}var b=(o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.call(n);var o=n.props.data;return n.state={data:o},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"componentDidMount",value:function(){this.props.id&&this.updateData(this.props.id)}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&(this.props.id?this.updateData(this.props.id):this.state.data&&this.setState({data:null}))}},{key:"componentWillUnmount",value:function(){this.unmount=!0}},{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?this.state.data:t,o=e.icon,r=e.focus;if(!n||!n.node)return null;google.maps;var l=this.props,i=l.theme,s=l.marker,p=void 0===s?{}:s,d=l.model,m=(l.label,l.defaultTitle,l.flgShowInfo),b=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(l,["theme","marker","model","label","defaultTitle","flgShowInfo"]);p.options||(p.options=(0,c.clone)(i[(0,f.default)(d)])||{options:{}});var v="";if(m)switch(d){case"FlowLogger":case"QualityLogger":v=n.name;break;default:v=""}return m&&v?u.default.createElement(y.MarkerWithLabel,a({},b,{labelStyle:{textAlign:"center",width:"auto",backgroundColor:"white",fontSize:"13px",padding:1,border:"1px solid "+h.grey[500],borderRadius:"3px",animation:r?"blink1 1s linear infinite":void 0},labelClass:"marker-label",labelAnchor:{x:0,y:0},key:n.id,position:n.node,zIndex:p.options.zIndex||210,icon:{url:(0,c.get)(o,"url","")}}),u.default.createElement("div",null,v)):u.default.createElement(g.Marker,a({},b,{position:n.node,zIndex:p.options.zIndex||210,icon:{url:(0,c.get)(o,"url","")}}))}}]),t}(),r=function(){var e=this;this.updateData=(0,c.debounce)(function(t){var n=e.props.dataProvider;t&&n(d.GET_ONE,"nodes",{id:t}).then(function(t){var n=t.data;if(n&&n.position&&!e.unmount){var o={node:n.position};e.setState({data:o})}})},200)},o);b.propTypes={icon:s.default.any,data:s.default.any,id:s.default.string,model:s.default.string,dataProvider:s.default.func.isRequired,marker:s.default.object,label:s.default.any,theme:s.default.object,flgShowInfo:s.default.bool,defaultTitle:s.default.any,focus:s.default.any},t.default=(0,p.withTheme)(b)},720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=g(i),s=g(n(3)),c=n(412),f=g(n(1622)),p=n(43),d=g(n(989)),y=g(n(8136)),h=g(n(8144));function g(e){return e&&e.__esModule?e:{default:e}}var m=(r=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mvcArrayToArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[];return e.forEach(function(e,o){o!==t&&n.push({lat:e.lat(),lng:e.lng()})}),n},n.onPolygonComplete=function(e){n.props.onChange(n.mvcArrayToArray(e.getPath())),e.setMap(null)},n.convertArrayObjectToArray=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],r=[o.lat,o.lng];t.push(r)}return t},n.convertArrayToArrayObject=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],r={lat:o[0],lng:o[1]};t.push(r)}return t},n.onPolygonSecondComplete=function(e){var t=n.props,o=t.path,r=t.typeCropPolygon;if(o&&r){var a=n.convertArrayObjectToArray(o),l=n.mvcArrayToArray(e.getPath()),i=n.convertArrayObjectToArray(l),u=[];if("union"===r||"difference"===r){var s=y.default[r]({regions:[a],inverted:!1},{regions:[i],inverted:!1});s&&s.regions.length&&(u=n.convertArrayToArrayObject(s.regions[0]))}else"many"===r&&(u=h.default.convertTwoPolygonToGeoJson(o,e.getPath()),n.setState({flgTest:!0}));n.props.onPolygonSecondComplete(u),e.setMap(null)}else e.setMap(null)},n.onDragEnd=function(){n.props.onChange(n.mvcArrayToArray(n.polyRef.current.getPath()))},n.onRightClick=function(e){n.props.onChange(n.mvcArrayToArray(n.polyRef.current.getPath(),e.vertex))},n.polyRef=u.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.typeCropPolygon,n=(e.enableCropPolygons,e.path),o=e.dma,r=(e.zIndex,e.editable),l=e.mapitemprops,s=void 0===l?{polygon:{},parentDmaId:""}:l,p=e.theme,y=e.onlyShow,h=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["typeCropPolygon","enableCropPolygons","path","dma","zIndex","editable","mapitemprops","theme","onlyShow"]),g=s.polygon,m=void 0===g?{}:g,b=s.parentDmaId,v=void 0===b?"":b;m.options||(m.options=o?p.dma.level[o.level]:r?p.dma.edit:p.dma.level[1],m.options=(0,d.default)(m.options)),(s.noFill||o&&v===o.id)&&(m.options.fillOpacity=0);var P=google.maps;if(n&&n.length||o&&o.boundary){var O={},w=n||o.boundary;if(r)return O={editable:!0,draggable:!0,onMouseUp:this.onDragEnd,onDragEnd:this.onDragEnd,onRightClick:this.onRightClick},t?u.default.createElement(i.Fragment,null,"many"===t&&u.default.createElement(c.Polygon,a({paths:w},h,{ref:this.polyRef},h,m,O)),"many"!==t&&u.default.createElement(c.Polygon,a({path:w},h,{ref:this.polyRef},h,m,O)),u.default.createElement(f.default,a({onPolygonComplete:this.onPolygonSecondComplete,defaultDrawingMode:P.drawing.OverlayType.POLYGON,editable:!0,defaultOptions:{drawingControl:!1,polygonOptions:m.options||{strokeColor:"#f44336",strokeOpacity:.8,strokeWeight:2,fillColor:"#f44336",fillOpacity:.35,zIndex:100,geodesic:!0}}},h))):u.default.createElement(c.Polygon,a({path:w},h,{ref:this.polyRef},h,m,O,{editable:!y,draggable:!y}));var T=c.Polygon;return m.options&&0===m.options.fillOpacity&&(T=c.Polyline,w.length>0&&w.push(w[0])),u.default.createElement(T,a({path:w},h,{ref:this.polyRef},m,h))}return r?u.default.createElement(f.default,a({onPolygonComplete:this.onPolygonComplete,defaultDrawingMode:P.drawing.OverlayType.POLYGON,editable:!0,defaultOptions:{drawingControl:!1,polygonOptions:m.options||{strokeColor:"#f44336",strokeOpacity:.8,strokeWeight:2,fillColor:"#f44336",fillOpacity:.35,zIndex:100,geodesic:!0}}},h)):null}}]),t}(),o.propTypes={path:s.default.array,dma:s.default.object,zIndex:s.default.number,editable:s.default.bool,onChange:s.default.func,mapitemprops:s.default.object,theme:s.default.object,enableCropPolygons:s.default.bool,typeCropPolygon:s.default.oneOf(["","union","difference","many"]),onPolygonSecondComplete:s.default.func,onlyShow:s.default.bool},o.defaultProps={zIndex:100,editable:!1},r);t.default=(0,p.withTheme)(m)},721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=f(i),s=f(n(3)),c=f(n(720));function f(e){return e&&e.__esModule?e:{default:e}}var p=(r=o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.dmas,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["dmas"]);return t&&t.length>0?u.default.createElement(i.Fragment,null,t.map(function(e){return u.default.createElement(c.default,a({key:e.id},n,{dma:e}))})):null}}]),t}(),o.propTypes={dmas:s.default.any,options:s.default.object},r);t.default=p},8129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=c(r),l=c(n(3)),i=n(48),u=n(34),s=n(8130);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=o=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.onKeyPress=function(e){"Enter"===e.key&&(e.stopPropagation(),e.preventDefault())},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.bounds,n=e.onPlacesChanged,o=e.controlPosition,r=e.translate,l=e.refSearchBox,i=e.enableSearchGadm,u=e.enableSearchDma,c=google.maps;return a.default.createElement(s.SearchBox,{ref:l,bounds:t,controlPosition:o||c.ControlPosition.TOP_LEFT,onPlacesChanged:n},a.default.createElement("input",{id:i||u?"idSearchBoxDefault":null,type:"text",placeholder:r("ra.map.searchPosition"),on:"true",onKeyPress:this.onKeyPress,style:{boxSizing:"border-box",border:"1px solid transparent",width:"200px",height:"40px",marginTop:"10px",padding:"0 12px",borderRadius:"2px",boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 4px -1px",fontSize:"16px",outline:"none",textOverflow:"ellipses"}}))}}]),t}();p.propTypes={bounds:l.default.array,onPlacesChanged:l.default.func,controlPosition:l.default.any,refSearchBox:l.default.any,translate:l.default.func,enableSearchGadm:l.default.bool,enableSearchDma:l.default.bool},t.default=(0,i.compose)(u.translate)(p)},8131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1620));t.default=o.default},8132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=m(r),l=n(85),i=n(34),u=n(48),s=n(54),c=n(26),f=m(n(713)),p=m(n(86)),d=m(n(17)),y=m(n(3)),h=n(42),g=m(n(1621));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={record:{gadmId:" "}},o.onChange=function(e){o.setState({record:{gadmId:e}}),o.props.dataProvider(l.GET_ONE,"gadms",{id:e}).then(function(e){if(e&&e.data){var t=[],n=e.data;if("Polygon"===(0,d.default)(n,"geometry.type")){var r=(0,d.default)(n,"geometry.coordinates");if(r&&r.length)for(var a=r[0],l=0;l<a.length;++l)if(2===a[l].length){var i={lat:a[l][1],lng:a[l][0]};t.push(i)}}o.props.onResetSearchBoxDefault(),o.props.getAreaPoint(t,(0,d.default)(n,"rect"))}})},o.onReset=function(){o.setState({record:{gadmId:""}})},b(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this.state.record,t=this.props,n=t.translate,o=t.classes;return a.default.createElement(r.Fragment,null,a.default.createElement("div",{style:{position:"absolute",marginTop:-15,top:0,marginLeft:410}},a.default.createElement(l.ReferenceInput,{resource:"gadms",label:"",filterToQuery:function(e){return e?{$text:{search:'"'+e+'"'}}:{}},input:{value:e.gadmId,meta:{},onChange:this.onChange},source:"gadmId",reference:"gadms",className:o.input,allowEmpty:!0},a.default.createElement(g.default,{label:"",optionText:"fullName",className:o.auto,placeholder:n("ra.map.geoBorder")}))))}}]),t}();v.propTypes={dataProvider:y.default.func,getAreaPoint:y.default.func,translate:y.default.func,classes:y.default.object,onRef:y.default.func,onResetSearchBoxDefault:y.default.func},t.default=(0,u.compose)((0,c.withStyles)(function(e){return{input:{display:"flex",background:f.default[50],width:284,boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 4px -1px",borderRadius:2,height:26,marginTop:25,paddingLeft:12,paddingTop:4,border:0,position:"relative",backgroundColor:e.palette.common.white,fontSize:16,padding:"10px 12px"}}}),p.default,i.translate,(0,h.connect)(function(e,t){return{}},{resetForm:s.reset}))(v)},8133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=m(r),l=n(85),i=n(34),u=n(48),s=n(54),c=n(26),f=m(n(713)),p=m(n(86)),d=m(n(17)),y=m(n(3)),h=n(42),g=m(n(1621));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={record:{dmaId:" "}},o.onChange=function(e){o.setState({record:{dmaId:e}}),o.props.dataProvider(l.GET_ONE,"dmas",{id:e}).then(function(e){if(e&&e.data){var t=[],n=e.data,r=(0,d.default)(n,"boundary");r.length&&(t=r),o.props.onResetSearchBoxDefault(),o.props.getAreaPoint(t,(0,d.default)(n,"rect"))}})},o.onReset=function(){o.setState({record:{dmaId:""}})},b(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this.state.record,t=this.props,n=t.translate,o=t.classes;return a.default.createElement(r.Fragment,null,a.default.createElement("div",{style:{position:"absolute",marginTop:-15,top:0,marginLeft:410}},a.default.createElement(l.ReferenceInput,{resource:"dmas",label:"",filterToQuery:function(e){return e?{$text:{search:'"'+e+'"'}}:{}},input:{value:e.dmaId,meta:{},onChange:this.onChange},source:"dmaId",reference:"dmas",className:o.input,allowEmpty:!0},a.default.createElement(g.default,{label:"",optionText:"name",className:o.auto,placeholder:n("ra.map.selectDma")}))))}}]),t}();v.propTypes={dataProvider:y.default.func,getAreaPoint:y.default.func,translate:y.default.func,classes:y.default.object,onRef:y.default.func,onResetSearchBoxDefault:y.default.func},t.default=(0,u.compose)((0,c.withStyles)(function(e){return{input:{display:"flex",background:f.default[50],width:130,boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 4px -1px",borderRadius:2,height:26,marginTop:25,paddingLeft:12,paddingTop:4,border:0,position:"relative",backgroundColor:e.palette.common.white,fontSize:16,padding:"10px 12px"}}}),p.default,i.translate,(0,h.connect)(function(e,t){return{}},{resetForm:s.reset}))(v)},8306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(1620)),r=i(n(8307)),a=i(n(8308)),l=i(n(8309));function i(e){return e&&e.__esModule?e:{default:e}}t.default={default:o.default,dark:l.default,standard:o.default,silver:r.default,simplified:a.default}},8307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"creport",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"creport",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},8308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]}]},8309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"creport",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"creport",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]},8310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),i=p(n(3)),u=p(n(17)),s=(p(n(45)),p(n(259))),c=n(129),f=p(n(8311));function p(e){return e&&e.__esModule?e:{default:e}}var d=(r=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.features={},n.updateGeo=(0,s.default)(function(){var e=n.props.data,t=void 0===e?{}:e,o=n.getMap();o&&(n.clickListener||(n.clickListener=o.data.addListener("click",function(e){var t=(0,u.default)(e,"feature.l.featureId");t&&this.props.onClick&&this.props.onClick(e,t)})),"Feature"===t.type?n.addFeature(t,o):"FeatureCollection"===t.type&&n.addFeatureCollection(t.features,o),o.data.setStyle(function(e){return e.getProperty("style")||{}}))},1e3),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"getMap",value:function(){var e=this.props.refMap;return(0,u.default)(e,"current.context['"+c.MAP+"']")}},{key:"componentWillUnmount",value:function(){this.removeGeo()}},{key:"componentDidMount",value:function(){this.updateGeo()}},{key:"componentDidUpdate",value:function(e,t){this.updateGeo()}},{key:"removeGeo",value:function(){var e=this.getMap();if(e){var t=Object.keys(this.features),n=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var i=a.value;e.data.remove(this.features[i])}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}this.clickListener&&google.maps.event.removeListener(this.clickListener)}}},{key:"addFeature",value:function(e,t){var n=e.properties,o=void 0===n?{}:n,r=e.geometry,a=e.type;o.featureId||(o.featureId=(0,f.default)().toString()),console.log(e),t&&(this.features[o.featureId]=t.data.addGeoJson({type:a,geometry:r,properties:o}))}},{key:"addFeatureCollection",value:function(e,t){var n=!0,o=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var i=a.value;"Feature"===i.type?this.addFeature(i,t):"FeatureCollection"===i.type&&this.addFeatureCollection(i.features,t)}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}}},{key:"render",value:function(){return""}}]),t}(),o.propTypes={refMap:i.default.object.isRequired,data:i.default.object.isRequired,onClick:i.default.func,style:i.default.object,theme:i.default.object},r);t.default=d},990:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=d(i),s=d(n(3)),c=n(43),f=d(n(989)),p=n(412);function d(e){return e&&e.__esModule?e:{default:e}}var y=(r=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.nodeRef=u.default.createRef(),n.mvcArrayToArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[];return e.forEach(function(e,o){o!==t&&n.push({lat:e.lat(),lng:e.lng()})}),n},n.onPolylineComplete=function(e){n.props.onChange(n.mvcArrayToArray(e.getPath())),e.setMap(null)},n.onDragEnd=function(){var e=n.nodeRef.current.getPosition();n.props.onChange({lat:e.lat(),lng:e.lng()})},n.onClick=function(e){n.props.onClick&&n.props.onClick(e,n.props.node||n.props.position)},n.polyRef=u.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.position,n=e.node,o=(e.zIndex,e.editable),r=e.icon,l=e.mapitemprops,i=void 0===l?{polygon:{},parentDmaId:""}:l,s=e.theme,c=e.onClick,d=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["position","node","zIndex","editable","icon","mapitemprops","theme","onClick"]),y=i.marker,h=void 0===y?{}:y,g=google.maps;if(h.options||(h.options=o?s.node.edit:s.node.default,h.options=(0,f.default)(h.options)),t||n&&n.position){var m={},b=t||n.position;if(o)return m={draggable:!0,onDragEnd:this.onDragEnd},u.default.createElement(p.Marker,a({ref:this.nodeRef,position:b},d,h,m,{noRedraw:!1,icon:{path:g.SymbolPath.CIRCLE,strokeColor:"red",scale:5},zIndex:h.options.zIndex||210}));var v=r||{path:g.SymbolPath.CIRCLE,strokeColor:"blue",scale:3};return u.default.createElement(p.Marker,a({position:b,icon:v,clickable:!!c,onClick:c?this.onClick:void 0},d,{ref:this.nodeRef},h,d,{zIndex:h.options.zIndex||200}))}return null}}]),t}(),o.propTypes={position:s.default.any,node:s.default.object,zIndex:s.default.number,editable:s.default.bool,onChange:s.default.func,mapitemprops:s.default.object,theme:s.default.object,onClick:s.default.func,icon:s.default.any},o.defaultProps={zIndex:100,editable:!1},r);t.default=(0,c.withTheme)(y)},991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),l=p(a),i=p(n(3)),u=n(106),s=p(n(722)),c=n(8150),f=p(n(1624));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateData=(0,u.debounce)(function(e,t,o){var r=s.default.getDistance({latitude:e.lat,longitude:e.lng},{latitude:n.state.center.lat,longitude:n.state.center.lng});(o||r>n.props.reloadDistance)&&(0,c.getNodeList)({dataProvider:n.props.dataProvider,center:e,excludeId:t}).then(function(t){n.unmount||n.setState({nodes:t,center:e})})},n.props.debounceTime),n.state={nodes:[],center:e.center},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.updateData(this.props.center,this.props.excludeId,!0)}},{key:"componentDidUpdate",value:function(){(0,u.isEqual)(this.props.center,this.state.center)||this.updateData(this.props.center,this.props.excludeId)}},{key:"render",value:function(){var e=this.props,t=(e.dataProvider,e.center,e.excludeId,e.debounceTime,e.reloadDistance,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["dataProvider","center","excludeId","debounceTime","reloadDistance"]));return l.default.createElement(f.default,o({nodes:this.state.nodes},t))}}]),t}();d.propTypes={dataProvider:i.default.func,center:i.default.object,excludeId:i.default.string,debounceTime:i.default.number,reloadDistance:i.default.number},d.defaultProps={debounceTime:200,reloadDistance:1e3,excludeId:""},t.default=d},992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=d(i),s=d(n(3)),c=n(412),f=n(43),p=d(n(989));function d(e){return e&&e.__esModule?e:{default:e}}var y=(r=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mvcArrayToArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[];return e.forEach(function(e,o){o!==t&&n.push({lat:e.lat(),lng:e.lng()})}),n},n.onPolylineComplete=function(e){n.props.onChange(n.mvcArrayToArray(e.getPath())),e.setMap(null)},n.onDragEnd=function(){n.props.onChange(n.mvcArrayToArray(n.polyRef.current.getPath()))},n.onRightClick=function(e){n.props.onChange(n.mvcArrayToArray(n.polyRef.current.getPath(),e.vertex))},n.polyRef=u.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.pipe,o=(e.zIndex,e.editable),r=e.mapitemprops,l=void 0===r?{polygon:{},parentDmaId:""}:r,i=e.theme,s=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["path","pipe","zIndex","editable","mapitemprops","theme"]),f=l.polyline,d=void 0===f?{}:f;if(d.options||(d.options=n?i.pipe.diameter(n.meta.diameter):o?i.pipe.edit:i.pipe.diameter(10),d.options=(0,p.default)(d.options)),t&&t.length||n&&n.polyline){var y={},h=t||n.polyline;return o?(y={editable:!0,draggable:!0,onMouseUp:this.onDragEnd,onDragEnd:this.onDragEnd,onRightClick:this.onRightClick},u.default.createElement(c.Polyline,a({defaultEditable:!0,path:h},s,{ref:this.polyRef},s,d,y))):u.default.createElement(c.Polyline,a({path:h},s,{ref:this.polyRef},d,s))}return null}}]),t}(),o.propTypes={path:s.default.array,pipe:s.default.object,zIndex:s.default.number,editable:s.default.bool,onChange:s.default.func,mapitemprops:s.default.object,theme:s.default.object},o.defaultProps={zIndex:100,editable:!1},r);t.default=(0,f.withTheme)(y)}}]);