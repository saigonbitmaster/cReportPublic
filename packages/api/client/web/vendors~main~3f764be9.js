(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{305:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}},function(t){return t})}},418:function(t,e,r){"use strict";r.r(e),r.d(e,"mapProps",function(){return F}),r.d(e,"withProps",function(){return W}),r.d(e,"withPropsOnChange",function(){return A}),r.d(e,"withHandlers",function(){return I}),r.d(e,"defaultProps",function(){return L}),r.d(e,"renameProp",function(){return _}),r.d(e,"renameProps",function(){return U}),r.d(e,"flattenProp",function(){return R}),r.d(e,"withState",function(){return N}),r.d(e,"withStateHandlers",function(){return V}),r.d(e,"withReducer",function(){return B}),r.d(e,"branch",function(){return H}),r.d(e,"renderComponent",function(){return K}),r.d(e,"renderNothing",function(){return $}),r.d(e,"shouldUpdate",function(){return Q}),r.d(e,"pure",function(){return J}),r.d(e,"onlyUpdateForKeys",function(){return X}),r.d(e,"onlyUpdateForPropTypes",function(){return Y}),r.d(e,"withContext",function(){return Z}),r.d(e,"getContext",function(){return tt}),r.d(e,"lifecycle",function(){return et}),r.d(e,"toClass",function(){return nt}),r.d(e,"withRenderProps",function(){return ot}),r.d(e,"setStatic",function(){return O}),r.d(e,"setPropTypes",function(){return at}),r.d(e,"setDisplayName",function(){return D}),r.d(e,"compose",function(){return it}),r.d(e,"getDisplayName",function(){return P}),r.d(e,"wrapDisplayName",function(){return S}),r.d(e,"isClassComponent",function(){return rt}),r.d(e,"createSink",function(){return st}),r.d(e,"componentFromProp",function(){return ut}),r.d(e,"nest",function(){return ct}),r.d(e,"hoistStatics",function(){return lt}),r.d(e,"componentFromStream",function(){return gt}),r.d(e,"componentFromStreamWithConfig",function(){return ft}),r.d(e,"mapPropsStream",function(){return yt}),r.d(e,"mapPropsStreamWithConfig",function(){return vt}),r.d(e,"createEventHandler",function(){return bt}),r.d(e,"createEventHandlerWithConfig",function(){return Ct}),r.d(e,"setObservableConfig",function(){return ht});var n=r(0),o=r.n(n),a=r(218),i=r.n(a),s=r(184),u=r.n(s);r.d(e,"shallowEqual",function(){return u.a});var c=r(78),l=r.n(c),p=r(61),h=r.n(p),d=r(79),f=r.n(d),g=r(164),m=r(629),v=r.n(m),y=r(858),C=r.n(y),b=r(165),E=r.n(b),w=r(557),T=r(187),O=function(t,e){return function(r){return r[t]=e,r}},D=function(t){return O("displayName",t)},P=function(t){return"string"==typeof t?t:t?t.displayName||t.name||"Component":void 0},S=function(t,e){return e+"("+P(t)+")"},F=function(t){return function(e){var r=Object(n.createFactory)(e);return function(e){return r(t(e))}}},W=function(t){return F(function(e){return i()({},e,"function"==typeof t?t(e):t)})},z=function(t,e){for(var r={},n=0;n<e.length;n++){var o=e[n];t.hasOwnProperty(o)&&(r[o]=t[o])}return r},A=function(t,e){return function(r){var o=Object(n.createFactory)(r),a="function"==typeof t?t:function(e,r){return!u()(z(e,t),z(r,t))},s=function(t){function r(){var n,o,a;l()(this,r);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=o=h()(this,t.call.apply(t,[this].concat(s))),o.state={computedProps:e(o.props),prevProps:o.props},a=n,h()(o,a)}return f()(r,t),r.getDerivedStateFromProps=function(t,r){return a(r.prevProps,t)?{computedProps:e(t),prevProps:t}:null},r.prototype.render=function(){return o(i()({},this.props,this.state.computedProps))},r}(n.Component);return Object(g.polyfill)(s),s}},j=function(t,e){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n],n));return r},I=function(t){return function(e){var r=Object(n.createFactory)(e),o=function(t){function e(){var r,n,o;l()(this,e);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=h()(this,t.call.apply(t,[this].concat(s))),a.call(n),o=r,h()(n,o)}return f()(e,t),e.prototype.render=function(){return r(i()({},this.props,this.handlers))},e}(n.Component),a=function(){var e=this;this.handlers=j("function"==typeof t?t(this.props):t,function(t){return function(){return t(e.props).apply(void 0,arguments)}})};return o}},L=function(t){return function(e){var r=Object(n.createFactory)(e),o=function(t){return r(t)};return o.defaultProps=t,o}},x=function(t,e){for(var r=v()(t,[]),n=0;n<e.length;n++){var o=e[n];r.hasOwnProperty(o)&&delete r[o]}return r},_=function(t,e){return F(function(r){var n;return i()({},x(r,[t]),((n={})[e]=r[t],n))})},k=C.a,U=function(t){return F(function(e){return i()({},x(e,k(t)),function(t,e){return k(t).reduce(function(r,n){var o=t[n];return r[e(o,n)]=o,r},{})}(z(e,k(t)),function(e,r){return t[r]}))})},R=function(t){return function(e){var r=Object(n.createFactory)(e);return function(e){return r(i()({},e,e[t]))}}},N=function(t,e,r){return function(o){var a=Object(n.createFactory)(o);return function(n){function o(){var t,e,a;l()(this,o);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return t=e=h()(this,n.call.apply(n,[this].concat(s))),e.state={stateValue:"function"==typeof r?r(e.props):r},e.updateStateValue=function(t,r){return e.setState(function(e){var r=e.stateValue;return{stateValue:"function"==typeof t?t(r):t}},r)},a=t,h()(e,a)}return f()(o,n),o.prototype.render=function(){var r;return a(i()({},this.props,((r={})[t]=this.state.stateValue,r[e]=this.updateStateValue,r)))},o}(n.Component)}},V=function(t,e){return function(r){var o=Object(n.createFactory)(r),a=function(t){function e(){var r,n,o;l()(this,e);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return r=n=h()(this,t.call.apply(t,[this].concat(i))),s.call(n),o=r,h()(n,o)}return f()(e,t),e.prototype.shouldComponentUpdate=function(t,e){var r=t!==this.props,n=!u()(e,this.state);return r||n},e.prototype.render=function(){return o(i()({},this.props,this.state,this.stateUpdaters))},e}(n.Component),s=function(){var r=this;this.state="function"==typeof t?t(this.props):t,this.stateUpdaters=j(e,function(t){return function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];e&&"function"==typeof e.persist&&e.persist(),r.setState(function(r,n){return t(r,n).apply(void 0,[e].concat(o))})}})};return a}},M=function(){},B=function(t,e,r,o){return function(a){var s=Object(n.createFactory)(a);return function(n){function a(){var t,e,o;l()(this,a);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return t=e=h()(this,n.call.apply(n,[this].concat(s))),e.state={stateValue:e.initializeStateValue()},e.dispatch=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;return e.setState(function(e){var n=e.stateValue;return{stateValue:r(n,t)}},function(){return n(e.state.stateValue)})},o=t,h()(e,o)}return f()(a,n),a.prototype.initializeStateValue=function(){return void 0!==o?"function"==typeof o?o(this.props):o:r(void 0,{type:"@@recompose/INIT"})},a.prototype.render=function(){var r;return s(i()({},this.props,((r={})[t]=this.state.stateValue,r[e]=this.dispatch,r)))},a}(n.Component)}},q=function(t){return t},H=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;return function(o){var a=void 0,i=void 0;return function(s){return t(s)?(a=a||Object(n.createFactory)(e(o)))(s):(i=i||Object(n.createFactory)(r(o)))(s)}}},K=function(t){return function(e){var r=Object(n.createFactory)(t);return function(t){return r(t)}}},G=function(t){function e(){return l()(this,e),h()(this,t.apply(this,arguments))}return f()(e,t),e.prototype.render=function(){return null},e}(n.Component),$=function(t){return G},Q=function(t){return function(e){var r=Object(n.createFactory)(e);return function(e){function n(){return l()(this,n),h()(this,e.apply(this,arguments))}return f()(n,e),n.prototype.shouldComponentUpdate=function(e){return t(this.props,e)},n.prototype.render=function(){return r(this.props)},n}(n.Component)}},J=function(t){return Q(function(t,e){return!u()(t,e)})(t)},X=function(t){return Q(function(e,r){return!u()(z(r,t),z(e,t))})},Y=function(t){var e=t.propTypes;var r=C()(e||{});return X(r)(t)},Z=function(t,e){return function(r){var o=Object(n.createFactory)(r),a=function(t){function r(){var n,o,a;l()(this,r);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=o=h()(this,t.call.apply(t,[this].concat(s))),o.getChildContext=function(){return e(o.props)},a=n,h()(o,a)}return f()(r,t),r.prototype.render=function(){return o(this.props)},r}(n.Component);return a.childContextTypes=t,a}},tt=function(t){return function(e){var r=Object(n.createFactory)(e),o=function(t,e){return r(i()({},t,e))};return o.contextTypes=t,o}},et=function(t){return function(e){var r=Object(n.createFactory)(e);var o=function(t){function e(){return l()(this,e),h()(this,t.apply(this,arguments))}return f()(e,t),e.prototype.render=function(){return r(i()({},this.props,this.state))},e}(n.Component);return C()(t).forEach(function(e){return o.prototype[e]=t[e]}),o}},rt=function(t){return Boolean(t&&t.prototype&&"function"==typeof t.prototype.render)},nt=function(t){var e,r;return rt(t)?t:(r=e=function(e){function r(){return l()(this,r),h()(this,e.apply(this,arguments))}return f()(r,e),r.prototype.render=function(){return"string"==typeof t?o.a.createElement(t,this.props):t(this.props,this.context)},r}(n.Component),e.displayName=P(t),e.propTypes=t.propTypes,e.contextTypes=t.contextTypes,e.defaultProps=t.defaultProps,r)};function ot(t){return t(function(t){return t.children(t)})}var at=function(t){return O("propTypes",t)},it=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}},function(t){return t})},st=function(t){var e=function(e){function r(){var t,n,o;l()(this,r);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return t=n=h()(this,e.call.apply(e,[this].concat(i))),n.state={},o=t,h()(n,o)}return f()(r,e),r.getDerivedStateFromProps=function(e){return t(e),null},r.prototype.render=function(){return null},r}(n.Component);return Object(g.polyfill)(e),e},ut=function(t){var e=function(e){return Object(n.createElement)(e[t],x(e,[t]))};return e.displayName="componentFromProp("+t+")",e},ct=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=e.map(n.createFactory);return function(t){var e=t.children,r=v()(t,["children"]);return o.reduceRight(function(t,e){return e(r,t)},e)}},lt=function(t,e){return function(r){var n=t(r);return E()(n,r,e),n}},pt={fromESObservable:null,toESObservable:null},ht=function(t){pt=t},dt={fromESObservable:function(t){return"function"==typeof pt.fromESObservable?pt.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof pt.toESObservable?pt.toESObservable(t):t}},ft=function(t){return function(e){return function(r){function n(){var o,a,i,s;l()(this,n);for(var u=arguments.length,c=Array(u),p=0;p<u;p++)c[p]=arguments[p];return a=i=h()(this,r.call.apply(r,[this].concat(c))),i.state={vdom:null},i.propsEmitter=Object(w.createChangeEmitter)(),i.props$=t.fromESObservable(((o={subscribe:function(t){return{unsubscribe:i.propsEmitter.listen(function(e){e?t.next(e):t.complete()})}}})[T.default]=function(){return this},o)),i.vdom$=t.toESObservable(e(i.props$)),s=a,h()(i,s)}return f()(n,r),n.prototype.componentWillMount=function(){var t=this;this.subscription=this.vdom$.subscribe({next:function(e){t.setState({vdom:e})}}),this.propsEmitter.emit(this.props)},n.prototype.componentWillReceiveProps=function(t){this.propsEmitter.emit(t)},n.prototype.shouldComponentUpdate=function(t,e){return e.vdom!==this.state.vdom},n.prototype.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},n.prototype.render=function(){return this.state.vdom},n}(n.Component)}},gt=function(t){return ft(dt)(t)},mt=function(t){return t},vt=function(t){var e=ft({fromESObservable:mt,toESObservable:mt});return function(r){return function(o){var a=Object(n.createFactory)(o),i=t.fromESObservable,s=t.toESObservable;return e(function(t){var e;return(e={subscribe:function(e){var n=s(r(i(t))).subscribe({next:function(t){return e.next(a(t))}});return{unsubscribe:function(){return n.unsubscribe()}}}})[T.default]=function(){return this},e})}}},yt=function(t){return vt(dt)(t)},Ct=function(t){return function(){var e,r=Object(w.createChangeEmitter)(),n=t.fromESObservable(((e={subscribe:function(t){return{unsubscribe:r.listen(function(e){return t.next(e)})}}})[T.default]=function(){return this},e));return{handler:r.emit,stream:n}}},bt=Ct(dt)},8382:function(t,e,r){"use strict";r.r(e),r.d(e,"Chart",function(){return E}),r.d(e,"GoogleDataTableColumnRoleType",function(){return w}),r.d(e,"default",function(){return T});var n=r(0);function o(t){let{chartVersion:e="current",chartPackages:r=["corechart","controls"],chartLanguage:o="en",mapsApiKey:a}=t;const[i,s]=Object(n.useState)(null),[u,c]=Object(n.useState)(!1);return function(t,e,r){Object(n.useEffect)(()=>{if(!document)return;const n=document.querySelector('script[src="'.concat(t,'"]'));if(null===n||void 0===n?void 0:n.dataset.loaded)return void(null===e||void 0===e||e());const o=n||document.createElement("script");n||(o.src=t);const a=()=>{o.dataset.loaded="1",null===e||void 0===e||e()};return o.addEventListener("load",a),r&&o.addEventListener("error",r),n||document.head.append(o),()=>{o.removeEventListener("load",a),r&&o.removeEventListener("error",r)}},[])}("https://www.gstatic.com/charts/loader.js",()=>{const t=null===window||void 0===window?void 0:window.google;t&&(t.charts.load(e,{packages:r,language:o,mapsApiKey:a}),t.charts.setOnLoadCallback(()=>{s(t)}))},()=>{c(!0)}),[i,u]}function a(t){let{onLoad:e,onError:r,...a}=t;const[i,s]=o(a);return Object(n.useEffect)(()=>{i&&e&&e(i)},[i]),Object(n.useEffect)(()=>{s&&r&&r()},[s]),null}const i={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let s=0;const u=()=>"reactgooglegraph-".concat(s+=1),c=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],l=async function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((n,o)=>{const a="".concat(r.headers?"headers=".concat(r.headers):"headers=0"),i="".concat(r.query?"&tq=".concat(encodeURIComponent(r.query)):""),s="".concat(r.gid?"&gid=".concat(r.gid):""),u="".concat(r.sheet?"&sheet=".concat(r.sheet):""),c="".concat(r.access_token?"&access_token=".concat(r.access_token):""),l="".concat(a).concat(s).concat(u).concat(i).concat(c),p="".concat(e,"/gviz/tq?").concat(l);new t.visualization.Query(p).send(t=>{t.isError()?o("Error in query:  ".concat(t.getMessage()," ").concat(t.getDetailedMessage())):n(t.getDataTable())})})},{Provider:p,Consumer:h}=n.createContext(i),d=t=>{let{children:e,value:r}=t;return n.createElement(p,{value:r},e)},f=t=>{let{render:e}=t;return n.createElement(h,null,t=>e(t))},g="#CCCCCC";class m extends n.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:t,googleChartWrapper:e}=this.props;window.removeEventListener("resize",this.onResize),t.visualization.events.removeAllListeners(e),"Timeline"===e.getChartType()&&e.getChart()&&e.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...t){super(...t),this.state={hiddenColumns:[]},this.listenToLegendToggle=(()=>{const{google:t,googleChartWrapper:e}=this.props;t.visualization.events.addListener(e,"select",()=>{const t=e.getChart().getSelection(),r=e.getDataTable();if(0===t.length||t[0].row||!r)return;const n=t[0].column,o=this.getColumnID(r,n);this.state.hiddenColumns.includes(o)?this.setState(t=>({...t,hiddenColumns:[...t.hiddenColumns.filter(t=>t!==o)]})):this.setState(t=>({...t,hiddenColumns:[...t.hiddenColumns,o]}))})}),this.applyFormatters=((t,e)=>{const{google:r}=this.props;for(let n of e)switch(n.type){case"ArrowFormat":new r.visualization.ArrowFormat(n.options).format(t,n.column);break;case"BarFormat":new r.visualization.BarFormat(n.options).format(t,n.column);break;case"ColorFormat":{const e=new r.visualization.ColorFormat(n.options),{ranges:o}=n;for(let t of o)e.addRange(...t);e.format(t,n.column);break}case"DateFormat":new r.visualization.DateFormat(n.options).format(t,n.column);break;case"NumberFormat":new r.visualization.NumberFormat(n.options).format(t,n.column);break;case"PatternFormat":new r.visualization.PatternFormat(n.options).format(t,n.column);break}}),this.getColumnID=((t,e)=>t.getColumnId(e)||t.getColumnLabel(e)),this.draw=(async t=>{let{data:e,diffdata:r,rows:n,columns:o,options:a,legend_toggle:i,legendToggle:s,chartType:u,formatters:c,spreadSheetUrl:p,spreadSheetQueryParameters:h}=t;const{google:d,googleChartWrapper:f}=this.props;let g,m=null;if(r){const t=d.visualization.arrayToDataTable(r.old),e=d.visualization.arrayToDataTable(r.new);m=d.visualization[u].prototype.computeDiff(t,e)}const v=(g=null!==e?Array.isArray(e)?d.visualization.arrayToDataTable(e):new d.visualization.DataTable(e):n&&o?d.visualization.arrayToDataTable([o,...n]):p?await l(d,p,h):d.visualization.arrayToDataTable([])).getNumberOfColumns();for(let t=0;t<v;t+=1){const e=this.getColumnID(g,t);if(this.state.hiddenColumns.includes(e)){const e=g.getColumnLabel(t),r=g.getColumnId(t),n=g.getColumnType(t);g.removeColumn(t),g.addColumn({label:e,id:r,type:n})}}const y=f.getChart();"Timeline"===f.getChartType()&&y&&y.clearChart(),f.setChartType(u),f.setOptions(a||{}),f.setDataTable(g),f.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(g),m&&(f.setDataTable(m),f.draw()),c&&(this.applyFormatters(g,c),f.setDataTable(g),f.draw()),!0!==s&&!0!==i||this.grayOutHiddenColumns({options:a})}),this.grayOutHiddenColumns=(t=>{let{options:e}=t;const{googleChartWrapper:r}=this.props,n=r.getDataTable();if(!n)return;const o=n.getNumberOfColumns();if(!1===this.state.hiddenColumns.length>0)return;const a=Array.from({length:o-1}).map((t,r)=>{const o=this.getColumnID(n,r+1);return this.state.hiddenColumns.includes(o)?g:e&&e.colors?e.colors[r]:c[r]});r.setOptions({...e,colors:a}),r.draw()}),this.onResize=(()=>{const{googleChartWrapper:t}=this.props;t.draw()})}}class v extends n.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:t,googleChartWrapper:e,googleChartDashboard:r}=this.props;return n.createElement(f,{render:o=>n.createElement(m,Object.assign({},o,{google:t,googleChartWrapper:e,googleChartDashboard:r}))})}}class y extends n.Component{shouldComponentUpdate(){return!1}listenToEvents(t){let{chartEvents:e,google:r,googleChartWrapper:n}=t;if(e){r.visualization.events.removeAllListeners(n);for(let t of e){var o=this;const{eventName:e,callback:a}=t;r.visualization.events.addListener(n,e,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];a({chartWrapper:n,props:o.props,google:r,eventArgs:e})})}}}render(){const{google:t,googleChartWrapper:e}=this.props;return n.createElement(f,{render:r=>(this.listenToEvents({chartEvents:r.chartEvents||null,google:t,googleChartWrapper:e}),null)})}}let C=0;class b extends n.Component{componentDidMount(){const{options:t,google:e,chartType:r,chartWrapperParams:n,toolbarItems:o,getChartEditor:a,getChartWrapper:i}=this.props,s={chartType:r,options:t,containerId:this.getGraphID(),...n},u=new e.visualization.ChartWrapper(s);u.setOptions(t||{}),i&&i(u,e);const c=new e.visualization.Dashboard(this.dashboard_ref),l=this.addControls(u,c);o&&e.visualization.drawToolbar(this.toolbar_ref.current,o);let p=null;a&&a({chartEditor:p=new e.visualization.ChartEditor,chartWrapper:u,google:e}),this.setState({googleChartEditor:p,googleChartControls:l,googleChartDashboard:c,googleChartWrapper:u,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper)return;if(!this.state.googleChartDashboard)return;if(!this.state.googleChartControls)return;const{controls:t}=this.props;if(t)for(let e=0;e<t.length;e+=1){const{controlType:r,options:n,controlWrapperParams:o}=t[e];o&&"state"in o&&this.state.googleChartControls[e].control.setState(o.state),this.state.googleChartControls[e].control.setOptions(n),this.state.googleChartControls[e].control.setControlType(r)}}shouldComponentUpdate(t,e){return this.state.isReady!==e.isReady||t.controls!==this.props.controls}render(){const{width:t,height:e,options:r,style:o}=this.props,a={height:e||r&&r.height,width:t||r&&r.width,...o};return this.props.render?n.createElement("div",{ref:this.dashboard_ref,style:a},n.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):n.createElement("div",{ref:this.dashboard_ref,style:a},this.renderControl(t=>{let{controlProp:e}=t;return"bottom"!==e.controlPosition}),this.renderChart(),this.renderControl(t=>{let{controlProp:e}=t;return"bottom"===e.controlPosition}),this.renderToolBar())}constructor(...t){var e;super(),e=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=n.createRef(),this.toolbar_ref=n.createRef(),this.getGraphID=(()=>{const{graphID:t,graph_id:e}=this.props;let r;return r=t||e?t&&!e?t:e&&!t?e:t:this.graphID?this.graphID:u(),this.graphID=r,this.graphID}),this.getControlID=((t,e)=>{let r;return C+=1,r=void 0===t?"googlechart-control-".concat(e,"-").concat(C):t}),this.addControls=((t,e)=>{const{google:r,controls:n}=this.props,o=n?n.map((t,e)=>{const{controlID:n,controlType:o,options:a,controlWrapperParams:i}=t,s=this.getControlID(n,e);return{controlProp:t,control:new r.visualization.ControlWrapper({containerId:s,controlType:o,options:a,...i})}}):null;if(!o)return null;e.bind(o.map(t=>{let{control:e}=t;return e}),t);for(let e of o){const{control:n,controlProp:o}=e,{controlEvents:i=[]}=o;for(let e of i){var a=this;const{callback:o,eventName:i}=e;r.visualization.events.removeListener(n,i,o),r.visualization.events.addListener(n,i,function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];o({chartWrapper:t,controlWrapper:n,props:a.props,google:r,eventArgs:i})})}}return o}),this.renderChart=(()=>{const{width:t,height:e,options:r,style:o,className:a,rootProps:i,google:s}=this.props,u={height:e||r&&r.height,width:t||r&&r.width,...o};return n.createElement("div",Object.assign({id:this.getGraphID(),style:u,className:a},i),this.state.isReady&&null!==this.state.googleChartWrapper?n.createElement(n.Fragment,null,n.createElement(v,{googleChartWrapper:this.state.googleChartWrapper,google:s,googleChartDashboard:this.state.googleChartDashboard}),n.createElement(y,{googleChartWrapper:this.state.googleChartWrapper,google:s})):null)}),this.renderControl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t=>!0;return e.state.isReady&&null!==e.state.googleChartControls?n.createElement(n.Fragment,null,e.state.googleChartControls.filter(e=>{let{controlProp:r,control:n}=e;return t({control:n,controlProp:r})}).map(t=>{let{control:e,controlProp:r}=t;return n.createElement("div",{key:e.getContainerId(),id:e.getContainerId()})})):null},this.renderToolBar=(()=>this.props.toolbarItems?n.createElement("div",{ref:this.toolbar_ref}):null)}}class E extends n.Component{render(){const{chartLanguage:t,chartPackages:e,chartVersion:r,mapsApiKey:o,loader:i,errorElement:s}=this.props;return n.createElement(d,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?n.createElement(b,Object.assign({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&s?s:i,n.createElement(a,{chartLanguage:t,chartPackages:e,chartVersion:r,mapsApiKey:o,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(t){const{controls:e,toolbarItems:r,getChartEditor:n}=this.props;return t&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!e||t.visualization.ChartWrapper)&&(!n||t.visualization.ChartEditor)&&(!r||t.visualization.drawToolbar)}constructor(...t){super(...t),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=(t=>{if(this.props.onLoad&&this.props.onLoad(t),this.isFullyLoaded(t))this.onSuccess(t);else{const t=setInterval(()=>{const e=window.google;this._isMounted?e&&this.isFullyLoaded(e)&&(clearInterval(t),this.onSuccess(e)):clearInterval(t)},1e3)}}),this.onSuccess=(t=>{this.setState({loadingStatus:"ready",google:t})}),this.onError=(()=>{this.setState({loadingStatus:"errored"})})}}var w;E.defaultProps=i,function(t){t.annotation="annotation",t.annotationText="annotationText",t.certainty="certainty",t.emphasis="emphasis",t.interval="interval",t.scope="scope",t.style="style",t.tooltip="tooltip",t.domain="domain"}(w||(w={}));var T=E}}]);