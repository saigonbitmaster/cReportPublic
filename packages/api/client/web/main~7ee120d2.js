(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=h(o),l=h(n(3)),i=n(42),c=h(n(12)),s=n(34),f=n(43),d=n(26),p=h(n(7235));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.className,e.dense),a=(e.hasDashboard,e.onMenuClick),o=(e.resources,e.logout,e.data),l=e.children,i=(e.disablePadding,e.activeSub,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["classes","className","dense","hasDashboard","onMenuClick","resources","logout","data","children","disablePadding","activeSub"]));return u.default.createElement(f.List,{component:"nav",className:t.padding},o.map(function(e){return u.default.createElement(p.default,r({key:e.url+e.name,onClick:a,dense:n,data:e},i))}),l)}}]),t}();m.propTypes={classes:l.default.object,className:l.default.string,dense:l.default.bool,hasDashboard:l.default.bool,logout:l.default.element,onMenuClick:l.default.func,resources:l.default.array.isRequired,children:l.default.any,data:l.default.array,disablePadding:l.default.bool,activeSub:l.default.func},m.defaultProps={onMenuClick:function(){return null}};var y=(0,c.default)((0,i.connect)(function(e){return{resources:(0,s.getResources)(e)}},{}),(0,d.withStyles)(function(e){return{padding:{paddingTop:"0em",paddingBottom:"0em"}}}));t.default=y(m)},1017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=v(o),l=v(n(3)),i=v(n(349)),c=v(n(99)),s=n(26),f=v(n(8297)),d=v(n(12)),p=v(n(20)),h=n(65),m=n(13),y=n(7190),b=v(n(192));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.basePath,n=void 0===t?"":t,a=e.className,o=e.classes,l=void 0===o?{}:o,i=e.translate,s=e.label,d=void 0===s?"ra.action.create":s,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["basePath","className","classes","translate","label"]);return u.default.createElement(y.Responsive,{small:u.default.createElement(c.default,r({component:h.Link,variant:"fab",color:"primary",className:(0,p.default)(l.floating,a),to:n+"/create"},m),u.default.createElement(f.default,null)),medium:u.default.createElement(b.default,r({component:h.Link,to:n+"/create",className:a,label:d&&i(d)},m),u.default.createElement(f.default,null))})}}]),t}();g.propTypes={basePath:l.default.string,className:l.default.string,classes:l.default.object,label:l.default.string,size:l.default.string,translate:l.default.func.isRequired};var O=(0,d.default)(m.translate,(0,i.default)(["basePath","label"]),(0,s.withStyles)(function(e){return{floating:{color:e.palette.getContrastText(e.palette.primary.main),margin:0,top:"auto",right:20,bottom:60,left:"auto",position:"fixed",zIndex:1e3},floatingLink:{color:"inherit"}}}));t.default=O(g)},1629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinearProgress=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(0)),o=c(n(473)),u=c(n(3)),l=n(26),i=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.classes,n=e.className,u=(e.fullWidth,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["classes","className","fullWidth"]));return a.default.createElement(o.default,r({className:(0,i.default)(t.root,n)},u))};t.LinearProgress=s,s.propTypes={classes:u.default.object,className:u.default.string,fullWidth:u.default.any},t.default=(0,l.withStyles)(function(e){return{root:{margin:e.spacing(1)+"px 0",width:"160px"}}})(s)},469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),c=m(i),s=m(n(3)),f=n(26),d=m(n(20)),p=n(34),h=m(n(7918));function m(e){return e&&e.__esModule?e:{default:e}}var y=(0,f.withStyles)({root:{display:"flex",justifyContent:"space-between"}})(r=(0,p.translate)((o=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,r=e.title,a=e.actions,o=e.actionProps,l=e.translate,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["classes","className","title","actions","actionProps","translate"]);return c.default.createElement("div",u({className:(0,d.default)(t.root,n)},i),c.default.createElement(h.default,{title:"string"==typeof r?l(r,{_:r}):r}),a&&c.default.cloneElement(a,o))}}]),t}(),a.propTypes={classes:s.default.object,className:s.default.string,title:s.default.any,actions:s.default.element,actionProps:s.default.object,translate:s.default.func},r=o))||r)||r;t.default=y},7189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=g(o),l=g(n(3)),i=n(42),c=g(n(12)),s=n(26),f=g(n(20)),d=n(34),p=n(7190),h=g(n(106)),m=g(n(571)),y=n(68),b=n(393),v=g(n(1016));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w={main:{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:p.DRAWER_WIDTH}};t.default=function(e){for(var t,n=e.menuConfig,g=e.showToClient,j=n.menu.map(function(e,t){return{item:e,parent:"",path:"["+t+"]"}}),_=function(){var e=j.pop();e.item.menu&&e.item.menu.length>0?e.item.menu.map(function(t,n){j.push({item:t,parent:e.path,path:e.path+"["+n+"]"})}):e.parent&&h.default.set(n.menu,e.parent+".sub['/"+e.item.url+"']",!0)};j.length>0;)_();var P=(0,b.withDataProvider)(t=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return r=a=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={menuConfig:{menu:g?n.menu:[]}},O(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;if(!g){var t=this.props,r=t.myaccess,a=t.dataProvider,o=t.setMyAccess,u=t.push;r?this.calculateMenuConfig(r):a(b.CUSTOM,"AppUsers",{subUrl:"myAccess",method:"POST",fullUrl:!0,body:{project:n.projectKey||"unknown"}}).then(function(t){o(t.data),e.calculateMenuConfig(t.data)}).catch(function(){b.Storage.removeUser(),u("/login")})}}},{key:"calculateMenuConfig",value:function(e){var t=e.apiPath,r=void 0===t?{}:t,a=e.menu,o=void 0===a?{}:a,u=e.type,l=void 0===u?"":u,i=[h.default.flatten(h.default.keys(r).map(function(e){return h.default.keys(r[e]).map(function(t){return{method:t,url:e}})})),o],c=i[0],s=i[1];if(c){var f=h.default.cloneDeep(n.menu).map(function(e){return function e(t,n,r,a){if("master"===a)return t;if(h.default.isEmpty(r))return{};var o=h.default.get(t,"menu"),u=h.default.get(t,"name");if(o){var l=[],i=!0,c=!1,s=void 0;try{for(var f,d=o[Symbol.iterator]();!(i=(f=d.next()).done);i=!0){var p=e(f.value,n,r,a);h.default.isEmpty(p)||l.push(p)}}catch(e){c=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(c)throw s}}return h.default.isEmpty(l)?{}:(h.default.set(t,"menu",l),t)}var m=h.default.get(t,"access");if(m){var y=[];if(h.default.has(m,"apis"))y=m.apis;else{var b=h.default.values(m);y=h.default.uniqBy(h.default.compact(h.default.flatten(b.map(function(e){return e.apis}))),function(e){return e.url+"-"+e.method})}return h.default.intersectionWith(y,n,h.default.isEqual).length>0&&r[u]?t:{}}}(e,c,s,l)}).filter(function(e){return!h.default.isEmpty(e)}).filter(function(e){return function e(t){if(t&&!1===t.active)return null;if(h.default.get(t,"screens"))return t;var n=h.default.get(t,"menu");return n?n.map(function(t){return e(t)}).some(function(e){return!e})?null:t:null}(e)});n.renderFromServer?this.setState({menuConfig:{menu:f}}):this.setState({menuConfig:{menu:n.menu}})}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=(e.dense,e.hasDashboard,e.onMenuClick,e.resources,e.logout),o=(e.setMyAccess,e.push,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["classes","className","dense","hasDashboard","onMenuClick","resources","logout","setMyAccess","push"])),l=this.state.menuConfig;return u.default.createElement("div",{className:(0,f.default)(t.main,n)},u.default.createElement(v.default,r({data:l.menu,disablePadding:!0},o),u.default.createElement(p.Responsive,{xsmall:a,medium:null})))}}]),t}())||t;P.propTypes={classes:l.default.object,className:l.default.string,dense:l.default.bool,hasDashboard:l.default.bool,logout:l.default.element,onMenuClick:l.default.func,pathname:l.default.string,resources:l.default.array.isRequired,setMyAccess:l.default.func,myaccess:l.default.any,dataProvider:l.default.func,push:l.default.func},P.defaultProps={onMenuClick:function(){return null}};return(0,c.default)((0,i.connect)(function(e){var t=e.router?e.router:e.routing;return{resources:(0,d.getResources)(e),myaccess:e.sfdata.myaccess,pathname:t.location.pathname}},{setMyAccess:m.default,push:y.push},null,{areStatePropsEqual:function(e,t){return e.resources.every(function(e,n){return e===t.resources[n]})&&e.pathname==t.pathname}}),(0,s.withStyles)(w))(P)}},7235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemLink=void 0;var r,a,o,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),c=O(i),s=O(n(3)),f=O(n(20)),d=n(65),p=n(43),h=n(130),m=n(26),y=O(n(12)),b=n(34),v=O(n(8294)),g=O(n(1016));function O(e){return e&&e.__esModule?e:{default:e}}function w(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var j=t.MenuItemLink=(a=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.call(n);var r=n.props,a=r.data,u=r.pathname;return n.state={open:n.hasActiveSub(a,u),selected:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.pathname!==e.pathname||t.open!==this.state.open||t.selected!==this.state.selected}},{key:"renderIcon",value:function(e,t,n){return e.icon?c.default.createElement("div",{className:t.icon},c.default.createElement(e.icon,{titleAccess:n})):c.default.createElement("div",{className:t.icon},c.default.createElement(v.default,{titleAccess:n}))}},{key:"renderText",value:function(e,t){return e.label?t(e.label):e.name}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.className,a=(t.staticContext,t.translate),o=t.data,l=(t.dataProvider,w(t,["classes","className","staticContext","translate","data","dataProvider"])),i=o.routeParams,s=void 0===i?{}:i,h=this.hasSubMenu(o),m=h?this.handleExpand:this.handleMenuTap,y=o.url;s.defaultParams&&Object.keys(s.defaultParams).map(function(e){y=y.replace(":"+e,s.defaultParams[e])});var b=c.default.forwardRef(function(e,t){return c.default.createElement(d.NavLink,e)}),v=h?{}:{to:"/"+y,activeClassName:n.active,component:b,isActive:function(t,n){return e.isActive(t,n)}};return[c.default.createElement(p.MenuItem,u({key:y+this.selected+o.name,className:(0,f.default)(n.root,r)},l,v,{onClick:m,selected:this.state.selected||this.state.open}),this.renderIcon(o,n,o.label?a(o.label):o.name),o.label?a(o.label):o.name,this.renderExpand(o,n)),this.renderSubList(this.props)]}}]),t}(),r.propTypes={classes:s.default.object.isRequired,className:s.default.string,onClick:s.default.func,staticContext:s.default.object,data:s.default.object,translate:s.default.func.isRequired,pathname:s.default.string,dataProvider:s.default.func},o=function(){var e=this;this.handleMenuTap=function(){e.props.onClick&&e.props.onClick()},this.handleExpand=function(t){t.preventDefault(),e.setState({open:!e.state.open})},this.hasActiveSub=function(e,t){return e.sub&&e.sub[t]},this.renderExpand=function(t,n){return e.hasSubMenu(t)?e.state.open?c.default.createElement(h.ExpandLess,{className:n.expand}):c.default.createElement(h.ExpandMore,{className:n.expand}):null},this.renderSubList=function(t){var n=t.data,r=t.classes,a=w(t,["data","classes"]);return e.hasSubMenu(n)?c.default.createElement(p.Collapse,{className:r.nested,key:"subList",in:e.state.open,timeout:"auto",unmountOnExit:!0},c.default.createElement(g.default,u({},a,{data:n.menu}))):null},this.hasSubMenu=function(e){return e&&e.menu&&e.menu.length>0},this.isActive=function(t,n){var r=!!t;return!r||"/"!==t.url&&""!==t.url||(r=t.isExact),e.state.selected!==r&&setTimeout(function(){return e.setState({selected:r})},10),r}},a),_=(0,y.default)(b.translate,(0,m.withStyles)(function(e){return{root:{color:e.palette.text.secondary,display:"flex",alignItems:"flex-start"},active:{color:e.palette.primary.main},expand:{paddingLeft:"0.6em"},icon:{paddingRight:"1.2em"},nested:{paddingLeft:e.spacing(1)}}}));t.default=_(j)},7236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(0)),u=d(n(3)),l=d(n(123)),i=d(n(8296)),c=n(65),s=n(13),f=d(n(192));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.customDisabled=function(){var e=r.props,t=e.record,n=e.records;return!(!r.props.customDisabled||!n)&&r.props.customDisabled(t,n)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.basePath,n=void 0===t?"":t,a=e.label,u=void 0===a?"ra.action.edit":a,l=e.record,d=void 0===l?{}:l,p=(e.customDisabled,e.fieldToShowNull),h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["basePath","label","record","customDisabled","fieldToShowNull"]);return d[p]?null:o.default.createElement(f.default,r({component:c.Link,to:(0,s.linkToRecord)(n,d.id),label:u,disabled:this.customDisabled()},h),o.default.createElement(i.default,null))}}]),t}();h.propTypes={basePath:u.default.string,className:u.default.string,classes:u.default.object,label:u.default.string,record:u.default.object,customDisabled:u.default.func,records:u.default.arrayOf(u.default.object),fieldToShowNull:u.default.any};var m=(0,l.default)(function(e,t){return e.translate!==t.translate||e.record&&t.record&&e.record.id!==t.record.id||e.basePath!==t.basePath||null==e.record&&null!=t.record});t.default=m(h)},7237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=y(o),l=y(n(3)),i=n(42),c=y(n(12)),s=n(26),f=n(410),d=y(n(598)),p=y(n(20)),h=n(13),m=y(n(192));function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleDelete=function(e){e.preventDefault();var t=r.props,n=t.dispatchCrudDelete,a=t.startUndoable,o=t.resource,u=t.record,l=t.basePath,i=t.redirect;t.undoable?a((0,h.crudDelete)(o,u.id,u,l,i)):n(o,u.id,u,l,i)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=void 0===t?"ra.action.delete":t,a=e.classes,o=void 0===a?{}:a,l=e.className,i=(e.basePath,e.dispatchCrudDelete,e.undoable),c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","classes","className","basePath","dispatchCrudDelete","undoable"]);return c.undoable=i.toString(),u.default.createElement(m.default,r({onClick:this.handleDelete,label:n,className:(0,p.default)("ra-delete-button",o.deleteButton,l),key:"button"},c),u.default.createElement(d.default,null))}}]),t}();v.propTypes={basePath:l.default.string,classes:l.default.object,className:l.default.string,dispatchCrudDelete:l.default.func.isRequired,label:l.default.string,record:l.default.object,redirect:l.default.oneOfType([l.default.string,l.default.bool,l.default.func]),resource:l.default.string.isRequired,startUndoable:l.default.func,translate:l.default.func,undoable:l.default.bool},v.defaultProps={redirect:"list",undoable:!0},t.default=(0,c.default)((0,i.connect)(null,{startUndoable:h.startUndoable,dispatchCrudDelete:h.crudDelete}),h.translate,(0,s.withStyles)(function(e){return{deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:(0,f.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}}}}))(v)},7918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),c=p(i),s=p(n(3)),f=n(43),d=p(n(20));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,f.withStyles)(function(){return{title:{}}})((o=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,r=e.classes,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","title","classes"]);return c.default.createElement(f.CardContent,u({className:(0,d.default)("title",t)},a),c.default.createElement(f.Typography,{className:r.title,variant:"h6"},n))}}]),t}(),a.propTypes={className:s.default.string,classes:s.default.object,title:s.default.oneOfType([s.default.string,s.default.element]).isRequired},r=o))||r;t.default=h},8199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=y(o),l=y(n(3)),i=y(n(20)),c=n(43),s=n(26),f=n(130),d=n(34),p=y(n(12)),h=n(65),m=y(n(86));function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.theme=(0,s.createMuiTheme)(r.props.theme),r.containerRef=u.default.createRef(),r.backgroundImageLoaded=!1,r.updateBackgroundImage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r.backgroundImageLoaded&&r.containerRef.current){var t=r.props.backgroundImage;r.containerRef.current.style.backgroundImage="url("+t+")",r.backgroundImageLoaded=!0}e&&(r.backgroundImageLoaded=!0)},r.lazyLoadBackgroundImage=function(){var e=r.props.backgroundImage;if(e){var t=new Image;t.onload=r.updateBackgroundImage(),t.src=e}},r.componentDidMount=function(){r.lazyLoadBackgroundImage()},r.componentDidUpdate=function(){r.backgroundImageLoaded||r.lazyLoadBackgroundImage(!0)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=v(e,["classes","className"]),o=this.props.location?this.props.location.state.emailSent:null,l=null,p=null,m=null;return!0!==o&&!1!==o?null:(o?(m=u.default.createElement(f.CheckCircle,{style:{height:30,width:30}}),p="Thành công",l="Email đã được gửi. Xin vui lòng kiểm tra mail để tạo mật khẩu mới."):(m=u.default.createElement(f.HighlightOff,{style:{height:30,width:30}}),p="Không thành công",l="Có vấn đề xảy ra đương lúc gửi email."),u.default.createElement(s.MuiThemeProvider,{theme:this.theme},u.default.createElement("div",r({className:(0,i.default)(t.main,n)},function(e){e.array,e.backgroundImage,e.classes,e.className,e.location,e.staticContext,e.theme,e.title;return v(e,["array","backgroundImage","classes","className","location","staticContext","theme","title"])}(a),{ref:this.containerRef}),u.default.createElement(c.Card,{className:t.card},u.default.createElement("div",{className:t.header},u.default.createElement("div",{className:t.icon},m),u.default.createElement("div",{className:t.title},u.default.createElement(c.Typography,{variant:"h6",gutterBottom:!0},p))),u.default.createElement("div",{className:t.description},u.default.createElement(c.Typography,{component:"p"},l),o?null:u.default.createElement("div",{className:t.retryLink},u.default.createElement(h.Link,{to:"/resetPassword"},"Quay về")))),u.default.createElement(d.Notification,null))))}}]),t}();g.propTypes={authProvider:l.default.func,backgroundImage:l.default.string,classes:l.default.object,className:l.default.string,input:l.default.object,form:l.default.element,meta:l.default.object,previousRoute:l.default.string,theme:l.default.any,location:l.default.any},g.defaultProps={backgroundImage:"https://source.unsplash.com/collection/14471760/1920x1080",theme:d.defaultTheme},t.default=(0,p.default)((0,s.withStyles)(function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{maxWidth:400,minWidth:300,marginTop:"6em"},header:{margin:"1em",display:"flex",justifyContent:"flex-start",alignItems:"center"},icon:{marginRight:"0.75em"},title:{},description:{margin:e.spacing(2)},retryLink:{marginTop:"1em",marginBottom:0,textAlign:"right"}}}),m.default)(g)},8203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=_(o),l=_(n(3)),i=n(42),c=n(68),s=_(n(20)),f=n(601),d=n(26),p=_(n(12)),h=n(34),m=n(117),y=n(340),b=_(n(86)),v=_(n(468)),g=_(n(571)),O=_(n(7188)),w=_(n(8210)),j=_(n(8211));function _(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function C(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){function t(e){P(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1,errorMessage:null,errorInfo:null},e.history.listen(function(){n.state.hasError&&n.setState({hasError:!1})}),n}return k(t,o.Component),a(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorMessage:e,errorInfo:t})}},{key:"render",value:function(){var e=this.props,t=e.appBar,n=e.children,a=e.classes,l=e.className,i=(e.customRoutes,e.error),c=e.dashboard,f=e.logout,d=e.menu,p=e.notification,h=e.notifyBage,m=e.extBar,y=e.open,b=e.sidebar,v=e.title,g=e.hiddenComponents,O=C(e,["appBar","children","classes","className","customRoutes","error","dashboard","logout","menu","notification","notifyBage","extBar","open","sidebar","title","hiddenComponents"]),_=this.state,P=_.hasError,E=_.errorMessage,k=_.errorInfo;return u.default.createElement("div",r({className:(0,s.default)("layout",a.root,l)},function(e){e.staticContext,e.history,e.location,e.match;return C(e,["staticContext","history","location","match"])}(O)),u.default.createElement("div",{className:a.appFrame},(0,o.createElement)(t,{title:v,open:y,logout:f,notifyBage:h,extBar:m}),u.default.createElement("main",{className:a.contentWithSidebar},(0,o.createElement)(b,{children:(0,o.createElement)(d,{logout:f,hasDashboard:!!c})}),u.default.createElement("div",{className:a.content},P?(0,o.createElement)(i,{error:E,errorInfo:k,title:v}):n)),u.default.createElement(j.default,null),u.default.createElement(w.default,null),g&&g.map(function(e){var t=e.key,n=e.component;return u.default.createElement(n,{key:t})}),(0,o.createElement)(p)))}}]),t}(),T=l.default.oneOfType([l.default.func,l.default.string]);M.propTypes={appBar:T,extBar:l.default.any,notifyBage:l.default.object,children:l.default.oneOfType([l.default.func,l.default.node]),classes:l.default.object,className:l.default.string,customRoutes:l.default.array,dashboard:T,error:T,history:l.default.object.isRequired,logout:l.default.oneOfType([l.default.node,l.default.func,l.default.string]),menu:T,notification:T,open:l.default.bool,sidebar:T,title:l.default.node.isRequired,hiddenComponents:l.default.arrayOf(l.default.object)},M.defaultProps={appBar:O.default,error:h.Error,menu:h.Menu,notification:h.Notification,sidebar:h.Sidebar};var S=(0,p.default)((0,i.connect)(function(e){return{open:e.admin.ui.sidebarOpen}},{}),f.withRouter,(0,d.withStyles)(function(e){var t;return{root:{display:"flex",flexDirection:"column",zIndex:1,minHeight:"100vh",backgroundColor:e.palette.background.default,position:"relative",minWidth:"fit-content",width:"100%"},appFrame:{display:"flex",flexDirection:"column"},contentWithSidebar:{marginTop:"32px",display:"flex",flexGrow:1},content:(t={display:"flex",flexDirection:"column",flexGrow:1,padding:e.spacing(2)},x(t,e.breakpoints.down("xs"),{paddingLeft:8,paddingRight:8,paddingBottom:8,paddingTop:24}),x(t,e.breakpoints.up("sm"),{paddingTop:24}),t)}}))(M),R=function(e){function t(e){P(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setAccess=function(e){var t=n.props,r=t.myaccess,a=t.userModel,o=t.dataProvider,u=t.setMyAccess,l=t.push;r||n.project||(n.project=e,o(m.CUSTOM,a,{subUrl:"myAccess",body:{project:e},method:"post"}).then(function(e){e.data&&u(e.data)}).catch(function(e){y.Storage.removeUser(),l("/login")}))},n.theme=(0,d.createMuiTheme)(r({},e.theme,{typography:{useNextVariants:!0}})),n}return k(t,o.Component),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.theme!==this.props.theme&&(this.theme=(0,d.createMuiTheme)(r({},e.theme,{typography:{useNextVariants:!0}})))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.theme,t.dataProvider,t.setMyAccess,t.userModel,t.myaccess),a=(t.push,C(t,["theme","dataProvider","setMyAccess","userModel","myaccess","push"]));return u.default.createElement(v.default.Consumer,null,function(t){var o=t.project;return n?u.default.createElement(d.MuiThemeProvider,{theme:e.theme},u.default.createElement(S,r({},a,{project:o}))):(e.setAccess(o||"bworks"),u.default.createElement("div",{className:"loader-container"},u.default.createElement("div",{className:"loader"},"Loading...")))})}}]),t}();R.propTypes={theme:l.default.object,myaccess:l.default.object,dataProvider:l.default.func,userModel:l.default.string,setMyAccess:l.default.func,push:l.default.func},R.defaultProps={theme:h.defaultTheme,userModel:"appusers"};var N=(0,p.default)(b.default,(0,i.connect)(function(e){return{myaccess:e.sfdata.myaccess}},{setMyAccess:g.default,push:c.push}))(R);t.default=N},8205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),i=y(l),c=y(n(3)),s=y(n(177)),f=y(n(8206)),d=y(n(724)),p=(y(n(602)),y(n(414)),y(n(122)),y(n(479)),y(n(603)),y(n(86))),h=y(n(604)),m=y(n(303));function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=(0,p.default)((o=a=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={total:0,anchorEl:null},r.handleClick=function(e){r.setState({anchorEl:e.currentTarget})},r.handleClose=function(){r.setState({anchorEl:null})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;(0,t.getTotal)(t.dataProvider).then(function(t){e.unmount||e.setState({total:t})})}},{key:"componentWillUnmount",value:function(){this.unmount=!0}},{key:"render",value:function(){var e=this.state,t=e.total,n=e.anchorEl,r=this.props.notifyComponent;return t?i.default.createElement("div",null,i.default.createElement(s.default,{color:"inherit","aria-label":"Notification",onClick:this.handleClick},i.default.createElement(d.default,{color:"error",badgeContent:t,invisible:!1},i.default.createElement(f.default,null))),r&&i.default.createElement(h.default,{style:{marginTop:30},id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:this.handleClose},i.default.createElement(m.default,{onClick:this.handleClose},"New posted jobs: 10"),i.default.createElement(m.default,{onClick:this.handleClose},"New bidding jobs: 30"),i.default.createElement(m.default,{onClick:this.handleClose},"New smart contracts: 5"))):null}}]),t}(),a.propTypes={getTotal:c.default.func,notifyComponent:c.default.any,dataProvider:c.default.func},r=o))||r;t.default=v},8207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(0)),o=h(n(192)),u=h(n(604)),l=h(n(303)),i=n(48),c=n(42),s=n(34),f=h(n(3)),d=h(n(8208)),p=n(340);function h(e){return e&&e.__esModule?e:{default:e}}var m={vi:"vn",en:"us"},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(e){var t=n.props.changeLocale;p.Storage.getUserLanguage()!==e?(p.Storage.setUserLanguage(e),t(e),n.setState({anchorEl:null},function(){return window.location.reload()})):n.setState({anchorEl:null})};return n.state={anchorEl:null,activeLanguages:["vi","en"]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){if(this.state.activeLanguages.length>1){var e=this.props,t=e.locale,n=e.changeLocale,r=p.Storage.getUserLanguage();2===r.length&&r!==t&&n(r)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.anchorEl,r=t.activeLanguages,i=this.props.locale;return r.length<2?null:a.default.createElement("div",null,a.default.createElement(o.default,{"aria-owns":n?"simple-menu":null,variant:"flat","aria-haspopup":"true",onClick:this.handleClick,style:{color:"white",padding:0},label:""},a.default.createElement(d.default,{styleProps:{width:"24px",height:"24px"},code:m[i]||i,svg:!0})),a.default.createElement(u.default,{id:"simple-menu",anchorEl:n,open:Boolean(n),onClose:this.handleClose},a.default.createElement(l.default,{selected:"vi"===i,onClick:function(){return e.handleClose("vi")}},a.default.createElement(d.default,{styleProps:{width:"24px",height:"24px",marginRight:"16px"},code:"vn",svg:!0}),"Tiếng Việt"),a.default.createElement(l.default,{selected:"en"===i,onClick:function(){return e.handleClose("en")}},a.default.createElement(d.default,{styleProps:{width:"24px",height:"24px",marginRight:"16px"},code:"us",svg:!0}),"English")))}}]),t}();y.propTypes={changeLocale:f.default.func,locale:f.default.string};t.default=(0,i.compose)((0,c.connect)(function(e){return{locale:e.i18n.locale}},{changeLocale:s.changeLocale}))(y)},8211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=d(o),l=d(n(3)),i=n(42),c=d(n(12)),s=n(43),f=n(966);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={open:!1,drawer:null,options:null},r.onClose=function(){r.props.hideRightDrawer()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.drawer,n=e.options;this.props.drawer&&!this.state.open&&this.setState({open:!0,drawer:t,options:n})}},{key:"componentWillUnmount",value:function(){this.unmount=!0}},{key:"render",value:function(){var e=this.state,t=e.drawer,n=e.options,r=e.open;return t?u.default.createElement(s.Drawer,{anchor:"right",open:r,onClose:this.onClose},n?(0,o.cloneElement)(t,n):t):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!e.drawer&&t.open?r({},t,{open:!1}):t}}]),t}();h.propTypes={options:l.default.any,drawer:l.default.any,updateCount:l.default.number,hideRightDrawer:l.default.func};t.default=(0,c.default)((0,i.connect)(function(e){return{drawer:e.rightDrawer.element,options:e.rightDrawer.options,updateCount:e.rightDrawer.updateCount}},{hideRightDrawer:f.hideRightDrawer}))(h)},8212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),c=S(i),s=S(n(3)),f=n(65),d=n(34),p=n(106),h=S(n(8483)),m=S(n(8213));n(8225),n(8227);var y=S(n(997)),b=S(n(8229)),v=S(n(8230)),g=S(n(278)),O=S(n(980)),w=S(n(176)),j=S(n(8231)),_=S(n(8232)),P=S(n(468)),E=S(n(8233)),k=S(n(8240)),C=S(n(7189)),x=S(n(8295)),M=S(n(7187)),T=n(340);function S(e){return e&&e.__esModule?e:{default:e}}function R(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,o){try{var u=t[a](o),l=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var L=(a=r=function(e){function t(){var e,n,r,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={loading:!0,locale:"vi"},r.getLocale=R(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.Storage.getUser(),n="vi",t&&(n=(0,p.get)(t,"language","vi")),r="Asia/Ho_Chi_Minh",w.default.tz.setDefault(r),w.default.locale(n),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,a)})),N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"componentDidMount",value:function(){var e=R(regeneratorRuntime.mark(function e(){var t,n,r,a,o,l,i,s,f,m,j,_,P,E,k,C=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for((t=window.navigator)&&t.serviceWorker&&t.serviceWorker.getRegistrations&&t.serviceWorker.getRegistrations().then(function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=a.value;u&&u.unregister&&u.unregister()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}),n=this.props,r=n.menuConfig,a=n.resources,o=void 0===a?[]:a,l=n.customRoutes,i=void 0===l?[]:l,s=n.transition,f=void 0===s?{}:s,(m=n.ga)&&m.id&&h.default.initialize(m.id,{debug:m.debug}),j=r.menu.map(function(e,t){return{item:e,parent:"",path:"["+t+"]"}}),_={},P=function(){var e=j.pop(),t=e.item,n=e.path,a=e.parent;if(t.menu&&t.menu.length>0)t.menu.map(function(e,t){j.push({item:e,parent:n,path:n+"["+t+"]"})});else{var u=t.screens,l=t.resources,c=t.url,s=t.name,d=t.access,h=void 0===d?{}:d;if(u){_[s]=h;var m=Object.keys(u),y={};y.hasList=!(!u.list&&!u.main),y.hasEdit=!!u.edit,y.hasShow=!!u.show,y.hasCreate=!!u.create,l&&("string"==typeof l?(y.resource=o,o.push(l)):(y.resource=o[0],o=o.concat(l)),y.resource="string"==typeof o?o:l[0]),m.map(function(e){i.push(C.getRoute(f,t,e,y))})}a&&(0,p.set)(r.menu,a+".sub['/"+c+"']",!0)}};j.length>0;)P();return o=(0,p.uniq)(o),(E=o.map(function(e){return c.default.createElement(d.Resource,{key:e,name:e})})).push(c.default.createElement(d.Resource,{key:"temps",name:"temps"})),e.next=13,this.getLocale();case 13:"vi"===(k=e.sent)?(y.default.locale(k,b.default),w.default.updateLocale(k,g.default)):(y.default.locale(k,v.default),w.default.updateLocale(k,O.default)),this.setState({locale:k,loading:!1,fixCustomRoutes:i.concat(this.props.customRoutes),fixResources:E,fixMenuConfig:u({},r,{accessMap:_})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"routePath",value:function(e,t,n){var r="object"===(void 0===n?"undefined":o(n))&&n.url?"/"+n.url:"/"+e;switch(t){case"list":case"main":break;case"create":r+="/create";break;case"edit":r+="/:id";break;case"show":r+="/:id/show";break;default:r+="/"+t}return n.subPath&&(r+="/"+n.subPath),r.replace("//","/")}},{key:"getRoute",value:function(e,t,n,r){var a=t.screens[n],o=t.screens,l=t.url,i=t.routeParams,s=void 0===i?{}:i,d="boolean"!=typeof a.exact||a.exact,p=this.routePath(l,n,a);return c.default.createElement(f.Route,u({key:"page"+p,exact:d,path:p,component:(0,k.default)(t,o,a,function(e,t){e.ga;var n=D(e,["ga"]);return t&&!n.basePath&&(n.basePath="/"+t),n}(r,l))},s))}},{key:"renderResources",value:function(){}},{key:"render",value:function(){if(this.state.loading)return c.default.createElement("div",{className:"loader-container"},c.default.createElement("div",{className:"loader"},"Loading..."));var e=this.props,t=(e.resources,e.customRoutes,e.customSagas),n=void 0===t?[]:t,r=(e.menuConfig,e.transition,e.ga,e.notifyBage),a=e.customReducers,o=e.project,l=e.showToClient,i=e.loginPage,s=D(e,["resources","customRoutes","customSagas","menuConfig","transition","ga","notifyBage","customReducers","project","showToClient","loginPage"]),f=this.state,p=f.fixCustomRoutes,h=f.fixResources,y=f.fixMenuConfig,b=f.locale,v=c.default.createElement(d.Admin,u({},s,{locale:b,notifyBage:r,customReducers:u({},a||{},E.default),customSagas:[j.default,_.default].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)),menu:(0,C.default)({menuConfig:y,showToClient:l}),customRoutes:p,loginPage:i||M.default}),h),g={dataProvider:s.dataProvider,locales:b||"vi",menu:y,project:o};return c.default.createElement(P.default.Provider,{value:g},c.default.createElement(m.default,{generateClassName:x.default},v))}}]),t}(),r.propTypes={customSagas:s.default.array,menuConfig:s.default.object,resources:s.default.array,customRoutes:s.default.array,transition:s.default.object,customReducers:s.default.object,ga:s.default.object,locale:s.default.any,notifyBage:s.default.any,project:s.default.string,showToClient:s.default.any,loginPage:s.default.any},r.defaultProps={ga:{id:"UA-120553426-1"},debug:!1},a);t.default=L},8240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=c(n(0)),u=c(n(3)),l=n(43),i=n(34);function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n,c){var s="object"===(void 0===n?"undefined":a(n))&&n.component?n.component:n,f=function(t){var n=t.staticContext,a=t.translate,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["staticContext","translate"]),i={};u.match.params&&u.match.params.id&&(i.id=u.match.params.id);var f=a(e.label);return document.title=f+" - cReport",o.default.createElement(l.Fade,{in:!0,timeout:500},o.default.createElement("div",null,o.default.createElement(s,r({},c,i,u,{staticcontext:n,title:f}))))};return f.propTypes={staticContext:u.default.any,translate:u.default.func},(0,i.translate)(f)}},8295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(e,t){return"c"+(r+=1)}},8298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=f(n(0)),o=f(n(3)),u=f(n(123)),l=f(n(8299)),i=n(65),c=n(13),s=f(n(192));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.basePath,n=void 0===t?"":t,o=e.label,u=void 0===o?"ra.action.show":o,f=e.record,d=void 0===f?{}:f,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["basePath","label","record"]);return a.default.createElement(s.default,r({component:i.Link,to:(0,c.linkToRecord)(n,d.id)+"/show",label:u},p),a.default.createElement(l.default,null))};d.propTypes={basePath:o.default.string,label:o.default.string,record:o.default.object};var p=(0,u.default)(function(e,t){return e.translate!==t.translate||e.record&&t.record&&e.record.id!==t.record.id||e.basePath!==t.basePath||null==e.record&&null!=t.record});t.default=p(d)},8305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(106);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.finish=!1,n.iframeRef=(0,a.createRef)(null),n.printIframe=function(){var e=n.state.fixId,t=document.frames?document.frames[e]:document.getElementById(e);return t.focus(),t.contentWindow.print(),n.iframeRef.current=t,n.iframeRef.current.contentWindow.addEventListener("afterprint",n.handleAfterPrint),!1},n.debounceFinish=(0,u.debounce)(function(){var e=n.props.onFinish;e&&e()},100),n.handleAfterPrint=function(){n.finish=!0;var e=n.iframeRef.current;e&&e.contentWindow&&(e.contentWindow.removeEventListener("afterprint",n.handleAfterPrint),n.debounceFinish())},n.state={fixId:"print-"+(e.id||Math.random().toFixed(10))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.title,r=void 0===n?"Print":n,a=this.state.fixId;return!t||this.finish?null:o.default.createElement("iframe",{id:a,name:a,src:t,style:{display:"none"},onLoad:this.printIframe,title:r})}}]),t}();t.default=l}}]);